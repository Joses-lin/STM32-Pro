ARM GAS  /tmp/cckiau1e.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"mem.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.rodata.plug_holes.str1.4,"aMS",%progbits,1
  16              		.align	2
  17              	.LC0:
  18 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/mem.c\000"
  18      6C657761 
  18      7265732F 
  18      54686972 
  18      645F5061 
  19              		.align	2
  20              	.LC1:
  21 002c 706C7567 		.ascii	"plug_holes: mem >= ram\000"
  21      5F686F6C 
  21      65733A20 
  21      6D656D20 
  21      3E3D2072 
  22 0043 00       		.align	2
  23              	.LC2:
  24 0044 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  24      7274696F 
  24      6E202225 
  24      73222066 
  24      61696C65 
  25              		.align	2
  26              	.LC3:
  27 006c 706C7567 		.ascii	"plug_holes: mem < ram_end\000"
  27      5F686F6C 
  27      65733A20 
  27      6D656D20 
  27      3C207261 
  28 0086 0000     		.align	2
  29              	.LC4:
  30 0088 706C7567 		.ascii	"plug_holes: mem->used == 0\000"
  30      5F686F6C 
  30      65733A20 
  30      6D656D2D 
  30      3E757365 
  31 00a3 00       		.align	2
  32              	.LC5:
  33 00a4 706C7567 		.ascii	"plug_holes: mem->next <= MEM_SIZE_ALIGNED\000"
  33      5F686F6C 
  33      65733A20 
  33      6D656D2D 
  33      3E6E6578 
ARM GAS  /tmp/cckiau1e.s 			page 2


  34              		.section	.text.plug_holes,"ax",%progbits
  35              		.align	1
  36              		.arch armv7-m
  37              		.syntax unified
  38              		.thumb
  39              		.thumb_func
  40              		.fpu softvfp
  42              	plug_holes:
  43              	.LVL0:
  44              	.LFB90:
  45              		.file 1 "Middlewares/Third_Party/LwIP/src/core/mem.c"
   1:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Dynamic memory manager
   4:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This is a lightweight replacement for the standard C library malloc().
   6:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If you want to use the standard C library malloc() instead, define
   8:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MEM_LIBC_MALLOC to 1 in your lwipopts.h
   9:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * To let mem_malloc() use pools (prevents fragmentation and is much faster than
  11:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * a heap but might waste some memory), define MEM_USE_POOLS to 1, define
  12:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MEMP_USE_CUSTOM_POOLS to 1 and create a file "lwippools.h" that includes a list
  13:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * of pools like this (more pools can be added between _START and _END):
  14:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  15:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Define three pools with sizes 256, 512, and 1512 bytes
  16:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL_START
  17:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(20, 256)
  18:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(10, 512)
  19:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(5, 1512)
  20:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL_END
  21:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  22:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  23:Middlewares/Third_Party/LwIP/src/core/mem.c **** /*
  24:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  25:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * All rights reserved.
  26:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  27:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Redistribution and use in source and binary forms, with or without modification,
  28:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * are permitted provided that the following conditions are met:
  29:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  30:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  31:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    this list of conditions and the following disclaimer.
  32:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  33:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    this list of conditions and the following disclaimer in the documentation
  34:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    and/or other materials provided with the distribution.
  35:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 3. The name of the author may not be used to endorse or promote products
  36:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    derived from this software without specific prior written permission.
  37:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  38:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  39:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  40:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  41:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  42:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  43:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  44:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  45:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  46:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
ARM GAS  /tmp/cckiau1e.s 			page 3


  47:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * OF SUCH DAMAGE.
  48:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  49:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This file is part of the lwIP TCP/IP stack.
  50:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  51:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Author: Adam Dunkels <adam@sics.se>
  52:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         Simon Goldschmidt
  53:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  54:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  55:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  56:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/opt.h"
  57:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/mem.h"
  58:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/def.h"
  59:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/sys.h"
  60:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/stats.h"
  61:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/err.h"
  62:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  63:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include <string.h>
  64:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC
  66:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include <stdlib.h> /* for malloc()/free() */
  67:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  68:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  69:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC || MEM_USE_POOLS
  70:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  71:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** mem_init is not used when using pools instead of a heap or using
  72:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * C library malloc().
  73:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  74:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
  75:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_init(void)
  76:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  77:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
  78:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  79:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** mem_trim is not used when using pools instead of a heap or using
  80:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * C library malloc(): we can't free part of a pool element and the stack
  81:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * support mem_trim() to return a different pointer
  82:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  83:Middlewares/Third_Party/LwIP/src/core/mem.c **** void*
  84:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_trim(void *mem, mem_size_t size)
  85:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  86:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(size);
  87:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return mem;
  88:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
  89:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_LIBC_MALLOC || MEM_USE_POOLS */
  90:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  91:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC
  92:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP heap implemented using C library malloc() */
  93:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  94:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* in case C library malloc() needs extra protection,
  95:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * allow these defines to be overridden.
  96:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  97:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_free
  98:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_free free
  99:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 100:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_malloc
 101:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_malloc malloc
 102:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 103:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_calloc
ARM GAS  /tmp/cckiau1e.s 			page 4


 104:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_calloc calloc
 105:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 106:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 107:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 108:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_LIBC_STATSHELPER_SIZE LWIP_MEM_ALIGN_SIZE(sizeof(mem_size_t))
 109:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 110:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_LIBC_STATSHELPER_SIZE 0
 111:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 112:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 114:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate a block of memory with a minimum of 'size' bytes.
 115:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 116:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size is the minimum size of the requested block in bytes.
 117:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory or NULL if no free memory was found.
 118:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 119:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Note that the returned value must always be aligned (as defined by MEM_ALIGNMENT).
 120:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 121:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 122:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 123:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 124:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void* ret = mem_clib_malloc(size + MEM_LIBC_STATSHELPER_SIZE);
 125:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (ret == NULL) {
 126:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC(err);
 127:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } else {
 128:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("malloc() must return aligned memory", LWIP_MEM_ALIGN(ret) == ret);
 129:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 130:Middlewares/Third_Party/LwIP/src/core/mem.c ****     *(mem_size_t*)ret = size;
 131:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ret = (u8_t*)ret + MEM_LIBC_STATSHELPER_SIZE;
 132:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_USED(used, size);
 133:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 134:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 135:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return ret;
 136:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 137:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 138:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** Put memory back on the heap
 139:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 140:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem is the pointer as returned by a previous call to mem_malloc()
 141:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 142:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 143:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 144:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 145:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem != NULL", (rmem != NULL));
 146:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem == MEM_ALIGN(rmem)", (rmem == LWIP_MEM_ALIGN(rmem)));
 147:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 148:Middlewares/Third_Party/LwIP/src/core/mem.c ****   rmem = (u8_t*)rmem - MEM_LIBC_STATSHELPER_SIZE;
 149:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED(used, *(mem_size_t*)rmem);
 150:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 151:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_clib_free(rmem);
 152:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 153:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 154:Middlewares/Third_Party/LwIP/src/core/mem.c **** #elif MEM_USE_POOLS
 155:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 156:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP heap implemented with different sized pools */
 157:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 158:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 159:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate memory: determine the smallest pool that is big enough
 160:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * to contain an element of 'size' and get an element from that pool.
ARM GAS  /tmp/cckiau1e.s 			page 5


 161:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 162:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size the size in bytes of the memory needed
 163:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return a pointer to the allocated memory or NULL if the pool is empty
 164:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 165:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 166:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 167:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 168:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *ret;
 169:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct memp_malloc_helper *element = NULL;
 170:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memp_t poolnr;
 171:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t required_size = size + LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_malloc_helper));
 172:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 173:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (poolnr = MEMP_POOL_FIRST; poolnr <= MEMP_POOL_LAST; poolnr = (memp_t)(poolnr + 1)) {
 174:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* is this pool big enough to hold an element of the required size
 175:Middlewares/Third_Party/LwIP/src/core/mem.c ****        plus a struct memp_malloc_helper that saves the pool this element came from? */
 176:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (required_size <= memp_pools[poolnr]->size) {
 177:Middlewares/Third_Party/LwIP/src/core/mem.c ****       element = (struct memp_malloc_helper*)memp_malloc(poolnr);
 178:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if (element == NULL) {
 179:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* No need to DEBUGF or ASSERT: This error is already taken care of in memp.c */
 180:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_USE_POOLS_TRY_BIGGER_POOL
 181:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /** Try a bigger pool if this one is empty! */
 182:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (poolnr < MEMP_POOL_LAST) {
 183:Middlewares/Third_Party/LwIP/src/core/mem.c ****           continue;
 184:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 185:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_USE_POOLS_TRY_BIGGER_POOL */
 186:Middlewares/Third_Party/LwIP/src/core/mem.c ****         MEM_STATS_INC(err);
 187:Middlewares/Third_Party/LwIP/src/core/mem.c ****         return NULL;
 188:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 189:Middlewares/Third_Party/LwIP/src/core/mem.c ****       break;
 190:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 191:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 192:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (poolnr > MEMP_POOL_LAST) {
 193:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("mem_malloc(): no pool is that big!", 0);
 194:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC(err);
 195:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 196:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 197:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 198:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* save the pool number this element came from */
 199:Middlewares/Third_Party/LwIP/src/core/mem.c ****   element->poolnr = poolnr;
 200:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* and return a pointer to the memory directly after the struct memp_malloc_helper */
 201:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ret = (u8_t*)element + LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_malloc_helper));
 202:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 203:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK || (LWIP_STATS && MEM_STATS)
 204:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* truncating to u16_t is safe because struct memp_desc::size is u16_t */
 205:Middlewares/Third_Party/LwIP/src/core/mem.c ****   element->size = (u16_t)size;
 206:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_INC_USED(used, element->size);
 207:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK || (LWIP_STATS && MEM_STATS) */
 208:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK
 209:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize unused memory (diff between requested size and selected pool's size) */
 210:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset((u8_t*)ret + size, 0xcd, memp_pools[poolnr]->size - size);
 211:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK */
 212:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return ret;
 213:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 214:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 215:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 216:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Free memory previously allocated by mem_malloc. Loads the pool number
 217:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * and calls memp_free with that pool number to put the element back into
ARM GAS  /tmp/cckiau1e.s 			page 6


 218:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * its pool
 219:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 220:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem the memory element to free
 221:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 222:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 223:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 224:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 225:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct memp_malloc_helper *hmem;
 226:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 227:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem != NULL", (rmem != NULL));
 228:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem == MEM_ALIGN(rmem)", (rmem == LWIP_MEM_ALIGN(rmem)));
 229:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 230:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* get the original struct memp_malloc_helper */
 231:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 232:Middlewares/Third_Party/LwIP/src/core/mem.c ****   hmem = (struct memp_malloc_helper*)(void*)((u8_t*)rmem - LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_m
 233:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 234:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem != NULL", (hmem != NULL));
 235:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem == MEM_ALIGN(hmem)", (hmem == LWIP_MEM_ALIGN(hmem)));
 236:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem->poolnr < MEMP_MAX", (hmem->poolnr < MEMP_MAX));
 237:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 238:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED(used, hmem->size);
 239:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK
 240:Middlewares/Third_Party/LwIP/src/core/mem.c ****   {
 241:Middlewares/Third_Party/LwIP/src/core/mem.c ****      u16_t i;
 242:Middlewares/Third_Party/LwIP/src/core/mem.c ****      LWIP_ASSERT("MEM_USE_POOLS: invalid chunk size",
 243:Middlewares/Third_Party/LwIP/src/core/mem.c ****         hmem->size <= memp_pools[hmem->poolnr]->size);
 244:Middlewares/Third_Party/LwIP/src/core/mem.c ****      /* check that unused memory remained untouched (diff between requested size and selected pool'
 245:Middlewares/Third_Party/LwIP/src/core/mem.c ****      for (i = hmem->size; i < memp_pools[hmem->poolnr]->size; i++) {
 246:Middlewares/Third_Party/LwIP/src/core/mem.c ****         u8_t data = *((u8_t*)rmem + i);
 247:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("MEM_USE_POOLS: mem overflow detected", data == 0xcd);
 248:Middlewares/Third_Party/LwIP/src/core/mem.c ****      }
 249:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 250:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK */
 251:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 252:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* and put it in the pool we saved earlier */
 253:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memp_free(hmem->poolnr, hmem);
 254:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 255:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 256:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_USE_POOLS */
 257:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP replacement for your libc malloc() */
 258:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 259:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 260:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * The heap is made up as a list of structs of this type.
 261:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This does not have to be aligned since for getting its size,
 262:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * we only use the macro SIZEOF_STRUCT_MEM, which automatically aligns.
 263:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 264:Middlewares/Third_Party/LwIP/src/core/mem.c **** struct mem {
 265:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** index (-> ram[next]) of the next struct */
 266:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t next;
 267:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** index (-> ram[prev]) of the previous struct */
 268:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t prev;
 269:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** 1: this area is used; 0: this area is unused */
 270:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t used;
 271:Middlewares/Third_Party/LwIP/src/core/mem.c **** };
 272:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 273:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** All allocated blocks will be MIN_SIZE bytes big, at least!
 274:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MIN_SIZE can be overridden to suit your needs. Smaller values save space,
ARM GAS  /tmp/cckiau1e.s 			page 7


 275:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * larger values could prevent too small blocks to fragment the RAM too much. */
 276:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef MIN_SIZE
 277:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MIN_SIZE             12
 278:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MIN_SIZE */
 279:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* some alignment macros: we define them here for better source code layout */
 280:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MIN_SIZE_ALIGNED     LWIP_MEM_ALIGN_SIZE(MIN_SIZE)
 281:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define SIZEOF_STRUCT_MEM    LWIP_MEM_ALIGN_SIZE(sizeof(struct mem))
 282:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SIZE_ALIGNED     LWIP_MEM_ALIGN_SIZE(MEM_SIZE)
 283:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 284:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** If you want to relocate the heap to external memory, simply define
 285:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_RAM_HEAP_POINTER as a void-pointer to that location.
 286:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If so, make sure the memory at that location is big enough (see below on
 287:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * how that space is calculated). */
 288:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef LWIP_RAM_HEAP_POINTER
 289:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** the heap. we need one struct mem at the end and some room for alignment */
 290:Middlewares/Third_Party/LwIP/src/core/mem.c **** LWIP_DECLARE_MEMORY_ALIGNED(ram_heap, MEM_SIZE_ALIGNED + (2U*SIZEOF_STRUCT_MEM));
 291:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_RAM_HEAP_POINTER ram_heap
 292:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_RAM_HEAP_POINTER */
 293:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 294:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** pointer to the heap (ram_heap): for alignment, ram is now a pointer instead of an array */
 295:Middlewares/Third_Party/LwIP/src/core/mem.c **** static u8_t *ram;
 296:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** the last entry, always unused! */
 297:Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem *ram_end;
 298:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** pointer to the lowest free block, this is used for faster search */
 299:Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem *lfree;
 300:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 301:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** concurrent access protection */
 302:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if !NO_SYS
 303:Middlewares/Third_Party/LwIP/src/core/mem.c **** static sys_mutex_t mem_mutex;
 304:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 305:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 306:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 307:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 308:Middlewares/Third_Party/LwIP/src/core/mem.c **** static volatile u8_t mem_free_count;
 309:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 310:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Allow mem_free from other (e.g. interrupt) context */
 311:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_DECL_PROTECT()  SYS_ARCH_DECL_PROTECT(lev_free)
 312:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_PROTECT()       SYS_ARCH_PROTECT(lev_free)
 313:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_UNPROTECT()     SYS_ARCH_UNPROTECT(lev_free)
 314:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_DECL_PROTECT() SYS_ARCH_DECL_PROTECT(lev_alloc)
 315:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_PROTECT()      SYS_ARCH_PROTECT(lev_alloc)
 316:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_UNPROTECT()    SYS_ARCH_UNPROTECT(lev_alloc)
 317:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 318:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 319:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 320:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Protect the heap only by using a semaphore */
 321:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_DECL_PROTECT()
 322:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_PROTECT()    sys_mutex_lock(&mem_mutex)
 323:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_UNPROTECT()  sys_mutex_unlock(&mem_mutex)
 324:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* mem_malloc is protected using semaphore AND LWIP_MEM_ALLOC_PROTECT */
 325:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_DECL_PROTECT()
 326:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_PROTECT()
 327:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_UNPROTECT()
 328:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 329:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 330:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 331:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
ARM GAS  /tmp/cckiau1e.s 			page 8


 332:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 333:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * "Plug holes" by combining adjacent empty struct mems.
 334:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * After this function is through, there should not exist
 335:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * one empty struct mem pointing to another empty struct mem.
 336:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 337:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param mem this points to a struct mem which just has been freed
 338:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @internal this function is only called by mem_free() and mem_trim()
 339:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 340:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This assumes access to the heap is protected by the calling function
 341:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * already.
 342:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 343:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 344:Middlewares/Third_Party/LwIP/src/core/mem.c **** plug_holes(struct mem *mem)
 345:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  46              		.loc 1 345 1 view -0
  47              		.cfi_startproc
  48              		@ args = 0, pretend = 0, frame = 0
  49              		@ frame_needed = 0, uses_anonymous_args = 0
  50              		.loc 1 345 1 is_stmt 0 view .LVU1
  51 0000 10B5     		push	{r4, lr}
  52              	.LCFI0:
  53              		.cfi_def_cfa_offset 8
  54              		.cfi_offset 4, -8
  55              		.cfi_offset 14, -4
  56 0002 0446     		mov	r4, r0
 346:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
  57              		.loc 1 346 3 is_stmt 1 view .LVU2
 347:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *pmem;
  58              		.loc 1 347 3 view .LVU3
 348:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 349:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem >= ram", (u8_t *)mem >= ram);
  59              		.loc 1 349 3 view .LVU4
  60              		.loc 1 349 3 view .LVU5
  61 0004 2D4B     		ldr	r3, .L17
  62 0006 1B68     		ldr	r3, [r3]
  63 0008 8342     		cmp	r3, r0
  64 000a 31D8     		bhi	.L11
  65              	.LVL1:
  66              	.L2:
  67              		.loc 1 349 3 discriminator 3 view .LVU6
  68              		.loc 1 349 3 discriminator 3 view .LVU7
 350:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
  69              		.loc 1 350 3 discriminator 3 view .LVU8
  70              		.loc 1 350 3 discriminator 3 view .LVU9
  71 000c 2C4B     		ldr	r3, .L17+4
  72 000e 1B68     		ldr	r3, [r3]
  73 0010 A342     		cmp	r3, r4
  74 0012 35D9     		bls	.L12
  75              	.L3:
  76              		.loc 1 350 3 discriminator 3 view .LVU10
  77              		.loc 1 350 3 discriminator 3 view .LVU11
 351:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
  78              		.loc 1 351 3 discriminator 3 view .LVU12
  79              		.loc 1 351 3 discriminator 3 view .LVU13
  80 0014 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
  81 0016 002B     		cmp	r3, #0
  82 0018 3AD1     		bne	.L13
ARM GAS  /tmp/cckiau1e.s 			page 9


  83              	.L4:
  84              		.loc 1 351 3 discriminator 3 view .LVU14
  85              		.loc 1 351 3 discriminator 3 view .LVU15
 352:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 353:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* plug hole forward */
 354:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->next <= MEM_SIZE_ALIGNED", mem->next <= MEM_SIZE_ALIGNED);
  86              		.loc 1 354 3 discriminator 3 view .LVU16
  87              		.loc 1 354 3 discriminator 3 view .LVU17
  88 001a 2388     		ldrh	r3, [r4]
  89 001c B3F5C86F 		cmp	r3, #1600
  90 0020 3ED8     		bhi	.L14
  91              	.L5:
  92              		.loc 1 354 3 discriminator 3 view .LVU18
  93              		.loc 1 354 3 discriminator 3 view .LVU19
 355:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 356:Middlewares/Third_Party/LwIP/src/core/mem.c ****   nmem = (struct mem *)(void *)&ram[mem->next];
  94              		.loc 1 356 3 discriminator 3 view .LVU20
  95              		.loc 1 356 32 is_stmt 0 discriminator 3 view .LVU21
  96 0022 264B     		ldr	r3, .L17
  97 0024 1B68     		ldr	r3, [r3]
  98              		.loc 1 356 40 discriminator 3 view .LVU22
  99 0026 2188     		ldrh	r1, [r4]
 100              		.loc 1 356 8 discriminator 3 view .LVU23
 101 0028 5A18     		adds	r2, r3, r1
 102              	.LVL2:
 357:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 103              		.loc 1 357 3 is_stmt 1 discriminator 3 view .LVU24
 104              		.loc 1 357 6 is_stmt 0 discriminator 3 view .LVU25
 105 002a 9442     		cmp	r4, r2
 106 002c 0FD0     		beq	.L6
 107              		.loc 1 357 26 discriminator 1 view .LVU26
 108 002e 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 109              		.loc 1 357 19 discriminator 1 view .LVU27
 110 0030 68B9     		cbnz	r0, .L6
 111              		.loc 1 357 57 discriminator 2 view .LVU28
 112 0032 2348     		ldr	r0, .L17+4
 113 0034 0068     		ldr	r0, [r0]
 114              		.loc 1 357 38 discriminator 2 view .LVU29
 115 0036 9042     		cmp	r0, r2
 116 0038 09D0     		beq	.L6
 358:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 359:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == nmem) {
 117              		.loc 1 359 5 is_stmt 1 view .LVU30
 118              		.loc 1 359 15 is_stmt 0 view .LVU31
 119 003a 2248     		ldr	r0, .L17+8
 120 003c 0068     		ldr	r0, [r0]
 121              		.loc 1 359 8 view .LVU32
 122 003e 9042     		cmp	r0, r2
 123 0040 36D0     		beq	.L15
 124              	.LVL3:
 125              	.L7:
 360:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 361:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 362:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = nmem->next;
 126              		.loc 1 362 5 is_stmt 1 view .LVU33
 127              		.loc 1 362 21 is_stmt 0 view .LVU34
 128 0042 5A5A     		ldrh	r2, [r3, r1]
ARM GAS  /tmp/cckiau1e.s 			page 10


 129              		.loc 1 362 15 view .LVU35
 130 0044 2280     		strh	r2, [r4]	@ movhi
 363:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ((struct mem *)(void *)&ram[nmem->next])->prev = (mem_size_t)((u8_t *)mem - ram);
 131              		.loc 1 363 5 is_stmt 1 view .LVU36
 132              		.loc 1 363 79 is_stmt 0 view .LVU37
 133 0046 E01A     		subs	r0, r4, r3
 134              		.loc 1 363 37 view .LVU38
 135 0048 5A5A     		ldrh	r2, [r3, r1]
 136              		.loc 1 363 28 view .LVU39
 137 004a 1A44     		add	r2, r2, r3
 138              		.loc 1 363 52 view .LVU40
 139 004c 5080     		strh	r0, [r2, #2]	@ movhi
 140              	.L6:
 364:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 365:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 366:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* plug hole backward */
 367:Middlewares/Third_Party/LwIP/src/core/mem.c ****   pmem = (struct mem *)(void *)&ram[mem->prev];
 141              		.loc 1 367 3 is_stmt 1 view .LVU41
 142              		.loc 1 367 40 is_stmt 0 view .LVU42
 143 004e 6188     		ldrh	r1, [r4, #2]
 144              	.LVL4:
 145              		.loc 1 367 8 view .LVU43
 146 0050 5A18     		adds	r2, r3, r1
 147              	.LVL5:
 368:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 148              		.loc 1 368 3 is_stmt 1 view .LVU44
 149              		.loc 1 368 6 is_stmt 0 view .LVU45
 150 0052 9442     		cmp	r4, r2
 151 0054 0BD0     		beq	.L1
 152              		.loc 1 368 26 discriminator 1 view .LVU46
 153 0056 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 154              		.loc 1 368 19 discriminator 1 view .LVU47
 155 0058 48B9     		cbnz	r0, .L1
 369:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 370:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem) {
 156              		.loc 1 370 5 is_stmt 1 view .LVU48
 157              		.loc 1 370 15 is_stmt 0 view .LVU49
 158 005a 1A48     		ldr	r0, .L17+8
 159 005c 0068     		ldr	r0, [r0]
 160              		.loc 1 370 8 view .LVU50
 161 005e A042     		cmp	r0, r4
 162 0060 29D0     		beq	.L16
 163              	.L9:
 371:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 372:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 373:Middlewares/Third_Party/LwIP/src/core/mem.c ****     pmem->next = mem->next;
 164              		.loc 1 373 5 is_stmt 1 view .LVU51
 165              		.loc 1 373 21 is_stmt 0 view .LVU52
 166 0062 2088     		ldrh	r0, [r4]
 167              		.loc 1 373 16 view .LVU53
 168 0064 5852     		strh	r0, [r3, r1]	@ movhi
 374:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ((struct mem *)(void *)&ram[mem->next])->prev = (mem_size_t)((u8_t *)pmem - ram);
 169              		.loc 1 374 5 is_stmt 1 view .LVU54
 170              		.loc 1 374 79 is_stmt 0 view .LVU55
 171 0066 D21A     		subs	r2, r2, r3
 172              	.LVL6:
 173              		.loc 1 374 36 view .LVU56
ARM GAS  /tmp/cckiau1e.s 			page 11


 174 0068 2188     		ldrh	r1, [r4]
 175              	.LVL7:
 176              		.loc 1 374 28 view .LVU57
 177 006a 0B44     		add	r3, r3, r1
 178              		.loc 1 374 51 view .LVU58
 179 006c 5A80     		strh	r2, [r3, #2]	@ movhi
 180              	.L1:
 375:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 376:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 181              		.loc 1 376 1 view .LVU59
 182 006e 10BD     		pop	{r4, pc}
 183              	.LVL8:
 184              	.L11:
 349:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 185              		.loc 1 349 3 is_stmt 1 discriminator 1 view .LVU60
 349:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 186              		.loc 1 349 3 discriminator 1 view .LVU61
 187 0070 154B     		ldr	r3, .L17+12
 188 0072 40F25D12 		movw	r2, #349
 189 0076 1549     		ldr	r1, .L17+16
 190 0078 1548     		ldr	r0, .L17+20
 191              	.LVL9:
 349:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 192              		.loc 1 349 3 is_stmt 0 discriminator 1 view .LVU62
 193 007a FFF7FEFF 		bl	printf
 194              	.LVL10:
 195 007e C5E7     		b	.L2
 196              	.L12:
 350:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 197              		.loc 1 350 3 is_stmt 1 discriminator 1 view .LVU63
 350:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 198              		.loc 1 350 3 discriminator 1 view .LVU64
 199 0080 114B     		ldr	r3, .L17+12
 200 0082 4FF4AF72 		mov	r2, #350
 201 0086 1349     		ldr	r1, .L17+24
 202 0088 1148     		ldr	r0, .L17+20
 203 008a FFF7FEFF 		bl	printf
 204              	.LVL11:
 205 008e C1E7     		b	.L3
 206              	.L13:
 351:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 207              		.loc 1 351 3 discriminator 1 view .LVU65
 351:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 208              		.loc 1 351 3 discriminator 1 view .LVU66
 209 0090 0D4B     		ldr	r3, .L17+12
 210 0092 40F25F12 		movw	r2, #351
 211 0096 1049     		ldr	r1, .L17+28
 212 0098 0D48     		ldr	r0, .L17+20
 213 009a FFF7FEFF 		bl	printf
 214              	.LVL12:
 215 009e BCE7     		b	.L4
 216              	.L14:
 354:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 217              		.loc 1 354 3 discriminator 1 view .LVU67
 354:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 218              		.loc 1 354 3 discriminator 1 view .LVU68
 219 00a0 094B     		ldr	r3, .L17+12
ARM GAS  /tmp/cckiau1e.s 			page 12


 220 00a2 4FF4B172 		mov	r2, #354
 221 00a6 0D49     		ldr	r1, .L17+32
 222 00a8 0948     		ldr	r0, .L17+20
 223 00aa FFF7FEFF 		bl	printf
 224              	.LVL13:
 225 00ae B8E7     		b	.L5
 226              	.LVL14:
 227              	.L15:
 360:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 228              		.loc 1 360 7 view .LVU69
 360:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 229              		.loc 1 360 13 is_stmt 0 view .LVU70
 230 00b0 044A     		ldr	r2, .L17+8
 231              	.LVL15:
 360:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 232              		.loc 1 360 13 view .LVU71
 233 00b2 1460     		str	r4, [r2]
 234 00b4 C5E7     		b	.L7
 235              	.LVL16:
 236              	.L16:
 371:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 237              		.loc 1 371 7 is_stmt 1 view .LVU72
 371:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 238              		.loc 1 371 13 is_stmt 0 view .LVU73
 239 00b6 0348     		ldr	r0, .L17+8
 240 00b8 0260     		str	r2, [r0]
 241 00ba D2E7     		b	.L9
 242              	.L18:
 243              		.align	2
 244              	.L17:
 245 00bc 00000000 		.word	.LANCHOR0
 246 00c0 00000000 		.word	.LANCHOR1
 247 00c4 00000000 		.word	.LANCHOR2
 248 00c8 00000000 		.word	.LC0
 249 00cc 2C000000 		.word	.LC1
 250 00d0 44000000 		.word	.LC2
 251 00d4 6C000000 		.word	.LC3
 252 00d8 88000000 		.word	.LC4
 253 00dc A4000000 		.word	.LC5
 254              		.cfi_endproc
 255              	.LFE90:
 257              		.section	.text.mem_init,"ax",%progbits
 258              		.align	1
 259              		.global	mem_init
 260              		.syntax unified
 261              		.thumb
 262              		.thumb_func
 263              		.fpu softvfp
 265              	mem_init:
 266              	.LFB91:
 377:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 378:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 379:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Zero the heap and initialize start, end and lowest-free
 380:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 381:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 382:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_init(void)
 383:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
ARM GAS  /tmp/cckiau1e.s 			page 13


 267              		.loc 1 383 1 is_stmt 1 view -0
 268              		.cfi_startproc
 269              		@ args = 0, pretend = 0, frame = 0
 270              		@ frame_needed = 0, uses_anonymous_args = 0
 271              		@ link register save eliminated.
 384:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 272              		.loc 1 384 3 view .LVU75
 385:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 386:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("Sanity check alignment",
 273              		.loc 1 386 3 view .LVU76
 274              		.loc 1 386 3 view .LVU77
 275              		.loc 1 386 3 view .LVU78
 276              		.loc 1 386 3 view .LVU79
 387:Middlewares/Third_Party/LwIP/src/core/mem.c ****     (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT-1)) == 0);
 388:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 389:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* align the heap */
 390:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram = (u8_t *)LWIP_MEM_ALIGN(LWIP_RAM_HEAP_POINTER);
 277              		.loc 1 390 3 view .LVU80
 278              		.loc 1 390 17 is_stmt 0 view .LVU81
 279 0000 0A4B     		ldr	r3, .L20
 280 0002 23F00303 		bic	r3, r3, #3
 281              		.loc 1 390 7 view .LVU82
 282 0006 0A4A     		ldr	r2, .L20+4
 283 0008 1360     		str	r3, [r2]
 391:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 392:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)ram;
 284              		.loc 1 392 3 is_stmt 1 view .LVU83
 285              	.LVL17:
 393:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->next = MEM_SIZE_ALIGNED;
 286              		.loc 1 393 3 view .LVU84
 287              		.loc 1 393 13 is_stmt 0 view .LVU85
 288 000a 4FF4C861 		mov	r1, #1600
 289 000e 1980     		strh	r1, [r3]	@ movhi
 394:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 290              		.loc 1 394 3 is_stmt 1 view .LVU86
 291              		.loc 1 394 13 is_stmt 0 view .LVU87
 292 0010 0022     		movs	r2, #0
 293 0012 5A80     		strh	r2, [r3, #2]	@ movhi
 395:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 294              		.loc 1 395 3 is_stmt 1 view .LVU88
 295              		.loc 1 395 13 is_stmt 0 view .LVU89
 296 0014 1A71     		strb	r2, [r3, #4]
 396:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 397:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end = (struct mem *)(void *)&ram[MEM_SIZE_ALIGNED];
 297              		.loc 1 397 3 is_stmt 1 view .LVU90
 298              		.loc 1 397 35 is_stmt 0 view .LVU91
 299 0016 5A18     		adds	r2, r3, r1
 300              		.loc 1 397 11 view .LVU92
 301 0018 0648     		ldr	r0, .L20+8
 302 001a 0260     		str	r2, [r0]
 398:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 303              		.loc 1 398 3 is_stmt 1 view .LVU93
 304              		.loc 1 398 17 is_stmt 0 view .LVU94
 305 001c 0120     		movs	r0, #1
 306 001e 1071     		strb	r0, [r2, #4]
 399:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 307              		.loc 1 399 3 is_stmt 1 view .LVU95
ARM GAS  /tmp/cckiau1e.s 			page 14


 308              		.loc 1 399 17 is_stmt 0 view .LVU96
 309 0020 A3F84016 		strh	r1, [r3, #1600]	@ movhi
 400:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 310              		.loc 1 400 3 is_stmt 1 view .LVU97
 311              		.loc 1 400 17 is_stmt 0 view .LVU98
 312 0024 5180     		strh	r1, [r2, #2]	@ movhi
 401:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 402:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the lowest-free pointer to the start of the heap */
 403:Middlewares/Third_Party/LwIP/src/core/mem.c ****   lfree = (struct mem *)(void *)ram;
 313              		.loc 1 403 3 is_stmt 1 view .LVU99
 314              		.loc 1 403 9 is_stmt 0 view .LVU100
 315 0026 044A     		ldr	r2, .L20+12
 316 0028 1360     		str	r3, [r2]
 404:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 405:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_AVAIL(avail, MEM_SIZE_ALIGNED);
 317              		.loc 1 405 43 is_stmt 1 view .LVU101
 406:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 407:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (sys_mutex_new(&mem_mutex) != ERR_OK) {
 318              		.loc 1 407 3 view .LVU102
 408:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 319              		.loc 1 408 5 view .LVU103
 320              		.loc 1 408 5 view .LVU104
 409:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 410:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 321              		.loc 1 410 1 is_stmt 0 view .LVU105
 322 002a 7047     		bx	lr
 323              	.L21:
 324              		.align	2
 325              	.L20:
 326 002c 03000000 		.word	ram_heap+3
 327 0030 00000000 		.word	.LANCHOR0
 328 0034 00000000 		.word	.LANCHOR1
 329 0038 00000000 		.word	.LANCHOR2
 330              		.cfi_endproc
 331              	.LFE91:
 333              		.section	.rodata.mem_free.str1.4,"aMS",%progbits,1
 334              		.align	2
 335              	.LC6:
 336 0000 6D656D5F 		.ascii	"mem_free: sanity check alignment\000"
 336      66726565 
 336      3A207361 
 336      6E697479 
 336      20636865 
 337 0021 000000   		.align	2
 338              	.LC7:
 339 0024 6D656D5F 		.ascii	"mem_free: legal memory\000"
 339      66726565 
 339      3A206C65 
 339      67616C20 
 339      6D656D6F 
 340 003b 00       		.align	2
 341              	.LC8:
 342 003c 6D656D5F 		.ascii	"mem_free: mem->used\000"
 342      66726565 
 342      3A206D65 
 342      6D2D3E75 
 342      73656400 
ARM GAS  /tmp/cckiau1e.s 			page 15


 343              		.section	.text.mem_free,"ax",%progbits
 344              		.align	1
 345              		.global	mem_free
 346              		.syntax unified
 347              		.thumb
 348              		.thumb_func
 349              		.fpu softvfp
 351              	mem_free:
 352              	.LVL18:
 353              	.LFB92:
 411:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 412:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 413:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Put a struct mem back on the heap
 414:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 415:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem is the data portion of a struct mem as returned by a previous
 416:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *             call to mem_malloc()
 417:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 418:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 419:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 420:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 354              		.loc 1 420 1 is_stmt 1 view -0
 355              		.cfi_startproc
 356              		@ args = 0, pretend = 0, frame = 0
 357              		@ frame_needed = 0, uses_anonymous_args = 0
 421:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 358              		.loc 1 421 3 view .LVU107
 422:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_DECL_PROTECT();
 359              		.loc 1 422 31 view .LVU108
 423:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 424:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (rmem == NULL) {
 360              		.loc 1 424 3 view .LVU109
 361              		.loc 1 424 6 is_stmt 0 view .LVU110
 362 0000 0028     		cmp	r0, #0
 363 0002 3DD0     		beq	.L30
 420:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 364              		.loc 1 420 1 view .LVU111
 365 0004 38B5     		push	{r3, r4, r5, lr}
 366              	.LCFI1:
 367              		.cfi_def_cfa_offset 16
 368              		.cfi_offset 3, -16
 369              		.cfi_offset 4, -12
 370              		.cfi_offset 5, -8
 371              		.cfi_offset 14, -4
 372 0006 0446     		mov	r4, r0
 425:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("mem_free(p == NULL) was call
 426:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 427:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 428:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_free: sanity check alignment", (((mem_ptr_t)rmem) & (MEM_ALIGNMENT-1)) == 0);
 373              		.loc 1 428 3 is_stmt 1 view .LVU112
 374              		.loc 1 428 3 view .LVU113
 375 0008 10F0030F 		tst	r0, #3
 376 000c 28D1     		bne	.L33
 377              	.LVL19:
 378              	.L24:
 379              		.loc 1 428 3 discriminator 3 view .LVU114
 380              		.loc 1 428 3 discriminator 3 view .LVU115
 429:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
ARM GAS  /tmp/cckiau1e.s 			page 16


 430:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_free: legal memory", (u8_t *)rmem >= (u8_t *)ram &&
 381              		.loc 1 430 3 discriminator 3 view .LVU116
 382              		.loc 1 430 3 discriminator 3 view .LVU117
 383 000e 1D4B     		ldr	r3, .L35
 384 0010 1B68     		ldr	r3, [r3]
 385 0012 A342     		cmp	r3, r4
 386 0014 03D8     		bhi	.L25
 387              		.loc 1 430 3 is_stmt 0 discriminator 2 view .LVU118
 388 0016 1C4B     		ldr	r3, .L35+4
 389 0018 1B68     		ldr	r3, [r3]
 390 001a A342     		cmp	r3, r4
 391 001c 06D8     		bhi	.L26
 392              	.L25:
 393              		.loc 1 430 3 is_stmt 1 discriminator 3 view .LVU119
 394              		.loc 1 430 3 discriminator 3 view .LVU120
 395 001e 1B4B     		ldr	r3, .L35+8
 396 0020 4FF4D772 		mov	r2, #430
 397 0024 1A49     		ldr	r1, .L35+12
 398 0026 1B48     		ldr	r0, .L35+16
 399 0028 FFF7FEFF 		bl	printf
 400              	.LVL20:
 401              	.L26:
 402              		.loc 1 430 3 discriminator 5 view .LVU121
 403              		.loc 1 430 3 discriminator 5 view .LVU122
 431:Middlewares/Third_Party/LwIP/src/core/mem.c ****     (u8_t *)rmem < (u8_t *)ram_end);
 432:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 433:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((u8_t *)rmem < (u8_t *)ram || (u8_t *)rmem >= (u8_t *)ram_end) {
 404              		.loc 1 433 3 discriminator 5 view .LVU123
 405              		.loc 1 433 20 is_stmt 0 discriminator 5 view .LVU124
 406 002c 154B     		ldr	r3, .L35
 407 002e 1B68     		ldr	r3, [r3]
 408              		.loc 1 433 6 discriminator 5 view .LVU125
 409 0030 A342     		cmp	r3, r4
 410 0032 14D8     		bhi	.L22
 411              		.loc 1 433 53 discriminator 1 view .LVU126
 412 0034 144B     		ldr	r3, .L35+4
 413 0036 1B68     		ldr	r3, [r3]
 414              		.loc 1 433 34 discriminator 1 view .LVU127
 415 0038 A342     		cmp	r3, r4
 416 003a 10D9     		bls	.L22
 434:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_DECL_PROTECT(lev);
 435:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 436:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 437:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_PROTECT(lev);
 438:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC(illegal);
 439:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_UNPROTECT(lev);
 440:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 441:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 442:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 443:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_PROTECT();
 417              		.loc 1 443 26 is_stmt 1 view .LVU128
 444:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Get the corresponding struct mem ... */
 445:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 446:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)((u8_t *)rmem - SIZEOF_STRUCT_MEM);
 418              		.loc 1 446 3 view .LVU129
 419              		.loc 1 446 7 is_stmt 0 view .LVU130
 420 003c A4F10805 		sub	r5, r4, #8
ARM GAS  /tmp/cckiau1e.s 			page 17


 421              	.LVL21:
 447:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... which has to be in a used state ... */
 448:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_free: mem->used", mem->used);
 422              		.loc 1 448 3 is_stmt 1 view .LVU131
 423              		.loc 1 448 3 view .LVU132
 424 0040 14F8043C 		ldrb	r3, [r4, #-4]	@ zero_extendqisi2
 425 0044 A3B1     		cbz	r3, .L34
 426              	.L27:
 427              		.loc 1 448 3 discriminator 3 view .LVU133
 428              		.loc 1 448 3 discriminator 3 view .LVU134
 449:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and is now unused. */
 450:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 429              		.loc 1 450 3 discriminator 3 view .LVU135
 430              		.loc 1 450 13 is_stmt 0 discriminator 3 view .LVU136
 431 0046 0023     		movs	r3, #0
 432 0048 04F8043C 		strb	r3, [r4, #-4]
 451:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 452:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem < lfree) {
 433              		.loc 1 452 3 is_stmt 1 discriminator 3 view .LVU137
 434              		.loc 1 452 11 is_stmt 0 discriminator 3 view .LVU138
 435 004c 124B     		ldr	r3, .L35+20
 436 004e 1B68     		ldr	r3, [r3]
 437              		.loc 1 452 6 discriminator 3 view .LVU139
 438 0050 AB42     		cmp	r3, r5
 439 0052 01D9     		bls	.L28
 453:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 454:Middlewares/Third_Party/LwIP/src/core/mem.c ****     lfree = mem;
 440              		.loc 1 454 5 is_stmt 1 view .LVU140
 441              		.loc 1 454 11 is_stmt 0 view .LVU141
 442 0054 104B     		ldr	r3, .L35+20
 443 0056 1D60     		str	r5, [r3]
 444              	.L28:
 455:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 456:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 457:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED(used, mem->next - (mem_size_t)(((u8_t *)mem - ram)));
 445              		.loc 1 457 74 is_stmt 1 view .LVU142
 458:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 459:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* finally, see if prev or next are free also */
 460:Middlewares/Third_Party/LwIP/src/core/mem.c ****   plug_holes(mem);
 446              		.loc 1 460 3 view .LVU143
 447 0058 2846     		mov	r0, r5
 448 005a FFF7FEFF 		bl	plug_holes
 449              	.LVL22:
 461:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 462:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_free_count = 1;
 463:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 464:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_UNPROTECT();
 450              		.loc 1 464 28 view .LVU144
 451              	.L22:
 465:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 452              		.loc 1 465 1 is_stmt 0 view .LVU145
 453 005e 38BD     		pop	{r3, r4, r5, pc}
 454              	.LVL23:
 455              	.L33:
 428:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 456              		.loc 1 428 3 is_stmt 1 discriminator 1 view .LVU146
 428:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
ARM GAS  /tmp/cckiau1e.s 			page 18


 457              		.loc 1 428 3 discriminator 1 view .LVU147
 458 0060 0A4B     		ldr	r3, .L35+8
 459 0062 4FF4D672 		mov	r2, #428
 460 0066 0D49     		ldr	r1, .L35+24
 461 0068 0A48     		ldr	r0, .L35+16
 462              	.LVL24:
 428:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 463              		.loc 1 428 3 is_stmt 0 discriminator 1 view .LVU148
 464 006a FFF7FEFF 		bl	printf
 465              	.LVL25:
 466 006e CEE7     		b	.L24
 467              	.LVL26:
 468              	.L34:
 448:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and is now unused. */
 469              		.loc 1 448 3 is_stmt 1 discriminator 1 view .LVU149
 448:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and is now unused. */
 470              		.loc 1 448 3 discriminator 1 view .LVU150
 471 0070 064B     		ldr	r3, .L35+8
 472 0072 4FF4E072 		mov	r2, #448
 473 0076 0A49     		ldr	r1, .L35+28
 474 0078 0648     		ldr	r0, .L35+16
 475 007a FFF7FEFF 		bl	printf
 476              	.LVL27:
 477 007e E2E7     		b	.L27
 478              	.LVL28:
 479              	.L30:
 480              	.LCFI2:
 481              		.cfi_def_cfa_offset 0
 482              		.cfi_restore 3
 483              		.cfi_restore 4
 484              		.cfi_restore 5
 485              		.cfi_restore 14
 448:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and is now unused. */
 486              		.loc 1 448 3 is_stmt 0 discriminator 1 view .LVU151
 487 0080 7047     		bx	lr
 488              	.L36:
 489 0082 00BF     		.align	2
 490              	.L35:
 491 0084 00000000 		.word	.LANCHOR0
 492 0088 00000000 		.word	.LANCHOR1
 493 008c 00000000 		.word	.LC0
 494 0090 24000000 		.word	.LC7
 495 0094 44000000 		.word	.LC2
 496 0098 00000000 		.word	.LANCHOR2
 497 009c 00000000 		.word	.LC6
 498 00a0 3C000000 		.word	.LC8
 499              		.cfi_endproc
 500              	.LFE92:
 502              		.section	.rodata.mem_trim.str1.4,"aMS",%progbits,1
 503              		.align	2
 504              	.LC9:
 505 0000 6D656D5F 		.ascii	"mem_trim: legal memory\000"
 505      7472696D 
 505      3A206C65 
 505      67616C20 
 505      6D656D6F 
 506 0017 00       		.align	2
ARM GAS  /tmp/cckiau1e.s 			page 19


 507              	.LC10:
 508 0018 6D656D5F 		.ascii	"mem_trim can only shrink memory\000"
 508      7472696D 
 508      2063616E 
 508      206F6E6C 
 508      79207368 
 509              		.section	.text.mem_trim,"ax",%progbits
 510              		.align	1
 511              		.global	mem_trim
 512              		.syntax unified
 513              		.thumb
 514              		.thumb_func
 515              		.fpu softvfp
 517              	mem_trim:
 518              	.LVL29:
 519              	.LFB93:
 466:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 467:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 468:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Shrink memory returned by mem_malloc().
 469:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 470:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem pointer to memory allocated by mem_malloc the is to be shrinked
 471:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param newsize required size after shrinking (needs to be smaller than or
 472:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *                equal to the previous size)
 473:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return for compatibility reasons: is always == rmem, at the moment
 474:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         or NULL if newsize is > old size, in which case rmem is NOT touched
 475:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         or freed!
 476:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 477:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 478:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_trim(void *rmem, mem_size_t newsize)
 479:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 520              		.loc 1 479 1 is_stmt 1 view -0
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 0
 523              		@ frame_needed = 0, uses_anonymous_args = 0
 524              		.loc 1 479 1 is_stmt 0 view .LVU153
 525 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 526              	.LCFI3:
 527              		.cfi_def_cfa_offset 24
 528              		.cfi_offset 3, -24
 529              		.cfi_offset 4, -20
 530              		.cfi_offset 5, -16
 531              		.cfi_offset 6, -12
 532              		.cfi_offset 7, -8
 533              		.cfi_offset 14, -4
 534 0002 0546     		mov	r5, r0
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t size;
 535              		.loc 1 480 3 is_stmt 1 view .LVU154
 481:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2;
 536              		.loc 1 481 3 view .LVU155
 482:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem, *mem2;
 537              		.loc 1 482 3 view .LVU156
 483:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* use the FREE_PROTECT here: it protects with sem OR SYS_ARCH_PROTECT */
 484:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_DECL_PROTECT();
 538              		.loc 1 484 31 view .LVU157
 485:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 486:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Expand the size of the allocated memory region so that we can
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****      adjust for alignment. */
ARM GAS  /tmp/cckiau1e.s 			page 20


 488:Middlewares/Third_Party/LwIP/src/core/mem.c ****   newsize = LWIP_MEM_ALIGN_SIZE(newsize);
 539              		.loc 1 488 3 view .LVU158
 540              		.loc 1 488 13 is_stmt 0 view .LVU159
 541 0004 CC1C     		adds	r4, r1, #3
 542 0006 A4B2     		uxth	r4, r4
 543              		.loc 1 488 11 view .LVU160
 544 0008 24F00304 		bic	r4, r4, #3
 545 000c A4B2     		uxth	r4, r4
 546              	.LVL30:
 489:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 490:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize < MIN_SIZE_ALIGNED) {
 547              		.loc 1 490 3 is_stmt 1 view .LVU161
 548              		.loc 1 490 6 is_stmt 0 view .LVU162
 549 000e 0B2C     		cmp	r4, #11
 550 0010 05D9     		bls	.L46
 491:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* every data block must be at least MIN_SIZE_ALIGNED long */
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     newsize = MIN_SIZE_ALIGNED;
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 494:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 495:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > MEM_SIZE_ALIGNED) {
 551              		.loc 1 495 3 is_stmt 1 view .LVU163
 552              		.loc 1 495 6 is_stmt 0 view .LVU164
 553 0012 B4F5C86F 		cmp	r4, #1600
 554 0016 03D9     		bls	.L38
 496:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 555              		.loc 1 496 12 view .LVU165
 556 0018 0025     		movs	r5, #0
 557              	.LVL31:
 558              	.L39:
 497:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 498:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim: legal memory", (u8_t *)rmem >= (u8_t *)ram &&
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 501:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((u8_t *)rmem < (u8_t *)ram || (u8_t *)rmem >= (u8_t *)ram_end) {
 503:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_DECL_PROTECT(lev);
 504:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_trim: illegal memory\n"));
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_PROTECT(lev);
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC(illegal);
 508:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_UNPROTECT(lev);
 509:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 510:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 511:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Get the corresponding struct mem ... */
 512:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 513:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)((u8_t *)rmem - SIZEOF_STRUCT_MEM);
 514:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and its offset pointer */
 515:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ptr = (mem_size_t)((u8_t *)mem - ram);
 516:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 517:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size = mem->next - ptr - SIZEOF_STRUCT_MEM;
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim can only shrink memory", newsize <= size);
 519:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* not supported */
 521:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 522:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 523:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize == size) {
 524:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* No change in size, simply return */
ARM GAS  /tmp/cckiau1e.s 			page 21


 525:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 526:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 527:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 528:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 529:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_PROTECT();
 530:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem2 = (struct mem *)(void *)&ram[mem->next];
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem2->used == 0) {
 533:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* The next struct is unused, we can simply move it at little */
 534:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem_size_t next;
 535:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 536:Middlewares/Third_Party/LwIP/src/core/mem.c ****     next = mem2->next;
 537:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* create new struct mem which is moved directly after the shrinked mem */
 538:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ptr2 = ptr + SIZEOF_STRUCT_MEM + newsize;
 539:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem2) {
 540:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = (struct mem *)(void *)&ram[ptr2];
 541:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = (struct mem *)(void *)&ram[ptr2];
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 544:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* restore the next pointer */
 545:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = next;
 546:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link it back to mem */
 547:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 548:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link mem to it */
 549:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 550:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* last thing to restore linked list: as we have moved mem2,
 551:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * let 'mem2->next->prev' point to mem2 again. but only if mem2->next is not
 552:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * the end of the heap */
 553:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 554:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 555:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 556:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_DEC_USED(used, (size - newsize));
 557:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* no need to plug holes, we've already done that */
 558:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } else if (newsize + SIZEOF_STRUCT_MEM + MIN_SIZE_ALIGNED <= size) {
 559:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 560:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * at least MIN_SIZE_ALIGNED of data.
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * Old size ('size') must be big enough to contain at least 'newsize' plus a struct mem
 562:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * ('SIZEOF_STRUCT_MEM') with some data ('MIN_SIZE_ALIGNED').
 563:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * @todo we could leave out MIN_SIZE_ALIGNED. We would create an empty
 564:Middlewares/Third_Party/LwIP/src/core/mem.c ****      *       region that couldn't hold data, but when mem->next gets freed,
 565:Middlewares/Third_Party/LwIP/src/core/mem.c ****      *       the 2 regions would be combined, resulting in more free memory */
 566:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ptr2 = ptr + SIZEOF_STRUCT_MEM + newsize;
 567:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = (struct mem *)(void *)&ram[ptr2];
 568:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 569:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 570:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 571:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 572:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 573:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 574:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 575:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 576:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 577:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 578:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_DEC_USED(used, (size - newsize));
 579:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the original mem->next is used, so no need to plug holes! */
 580:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 581:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* else {
ARM GAS  /tmp/cckiau1e.s 			page 22


 582:Middlewares/Third_Party/LwIP/src/core/mem.c ****     next struct mem is used but size between mem and mem2 is not big enough
 583:Middlewares/Third_Party/LwIP/src/core/mem.c ****     to create another struct mem
 584:Middlewares/Third_Party/LwIP/src/core/mem.c ****     -> don't do anyhting.
 585:Middlewares/Third_Party/LwIP/src/core/mem.c ****     -> the remaining space stays unused since it is too small
 586:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } */
 587:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 588:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_free_count = 1;
 589:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 590:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_UNPROTECT();
 591:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return rmem;
 592:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 559              		.loc 1 592 1 view .LVU166
 560 001a 2846     		mov	r0, r5
 561 001c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 562              	.LVL32:
 563              	.L46:
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 564              		.loc 1 492 13 view .LVU167
 565 001e 0C24     		movs	r4, #12
 566              	.LVL33:
 567              	.L38:
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 568              		.loc 1 499 3 is_stmt 1 view .LVU168
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 569              		.loc 1 499 3 view .LVU169
 570 0020 374B     		ldr	r3, .L52
 571 0022 1B68     		ldr	r3, [r3]
 572 0024 AB42     		cmp	r3, r5
 573 0026 03D8     		bhi	.L40
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 574              		.loc 1 499 3 is_stmt 0 discriminator 2 view .LVU170
 575 0028 364B     		ldr	r3, .L52+4
 576 002a 1B68     		ldr	r3, [r3]
 577 002c AB42     		cmp	r3, r5
 578 002e 06D8     		bhi	.L41
 579              	.L40:
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 580              		.loc 1 499 3 is_stmt 1 discriminator 3 view .LVU171
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 581              		.loc 1 499 3 discriminator 3 view .LVU172
 582 0030 354B     		ldr	r3, .L52+8
 583 0032 40F2F312 		movw	r2, #499
 584 0036 3549     		ldr	r1, .L52+12
 585 0038 3548     		ldr	r0, .L52+16
 586              	.LVL34:
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 587              		.loc 1 499 3 is_stmt 0 discriminator 3 view .LVU173
 588 003a FFF7FEFF 		bl	printf
 589              	.LVL35:
 590              	.L41:
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 591              		.loc 1 499 3 is_stmt 1 discriminator 5 view .LVU174
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****    (u8_t *)rmem < (u8_t *)ram_end);
 592              		.loc 1 499 3 discriminator 5 view .LVU175
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_DECL_PROTECT(lev);
 593              		.loc 1 502 3 discriminator 5 view .LVU176
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_DECL_PROTECT(lev);
ARM GAS  /tmp/cckiau1e.s 			page 23


 594              		.loc 1 502 20 is_stmt 0 discriminator 5 view .LVU177
 595 003e 304B     		ldr	r3, .L52
 596 0040 1B68     		ldr	r3, [r3]
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_DECL_PROTECT(lev);
 597              		.loc 1 502 6 discriminator 5 view .LVU178
 598 0042 AB42     		cmp	r3, r5
 599 0044 E9D8     		bhi	.L39
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_DECL_PROTECT(lev);
 600              		.loc 1 502 53 discriminator 1 view .LVU179
 601 0046 2F4A     		ldr	r2, .L52+4
 602 0048 1268     		ldr	r2, [r2]
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****     SYS_ARCH_DECL_PROTECT(lev);
 603              		.loc 1 502 34 discriminator 1 view .LVU180
 604 004a AA42     		cmp	r2, r5
 605 004c E5D9     		bls	.L39
 513:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and its offset pointer */
 606              		.loc 1 513 3 is_stmt 1 view .LVU181
 513:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and its offset pointer */
 607              		.loc 1 513 7 is_stmt 0 view .LVU182
 608 004e A5F10807 		sub	r7, r5, #8
 609              	.LVL36:
 515:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 610              		.loc 1 515 3 is_stmt 1 view .LVU183
 515:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 611              		.loc 1 515 34 is_stmt 0 view .LVU184
 612 0052 FF1A     		subs	r7, r7, r3
 613              	.LVL37:
 515:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 614              		.loc 1 515 7 view .LVU185
 615 0054 BFB2     		uxth	r7, r7
 616              	.LVL38:
 517:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim can only shrink memory", newsize <= size);
 617              		.loc 1 517 3 is_stmt 1 view .LVU186
 517:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim can only shrink memory", newsize <= size);
 618              		.loc 1 517 13 is_stmt 0 view .LVU187
 619 0056 35F8086C 		ldrh	r6, [r5, #-8]
 517:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim can only shrink memory", newsize <= size);
 620              		.loc 1 517 20 view .LVU188
 621 005a F61B     		subs	r6, r6, r7
 622 005c B6B2     		uxth	r6, r6
 517:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim can only shrink memory", newsize <= size);
 623              		.loc 1 517 8 view .LVU189
 624 005e 083E     		subs	r6, r6, #8
 625 0060 B6B2     		uxth	r6, r6
 626              	.LVL39:
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 627              		.loc 1 518 3 is_stmt 1 view .LVU190
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 628              		.loc 1 518 3 view .LVU191
 629 0062 B442     		cmp	r4, r6
 630 0064 20D8     		bhi	.L50
 631              	.L42:
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 632              		.loc 1 518 3 discriminator 3 view .LVU192
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 633              		.loc 1 518 3 discriminator 3 view .LVU193
 519:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* not supported */
ARM GAS  /tmp/cckiau1e.s 			page 24


 634              		.loc 1 519 3 discriminator 3 view .LVU194
 519:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* not supported */
 635              		.loc 1 519 6 is_stmt 0 discriminator 3 view .LVU195
 636 0066 B442     		cmp	r4, r6
 637 0068 48D8     		bhi	.L48
 523:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* No change in size, simply return */
 638              		.loc 1 523 3 is_stmt 1 view .LVU196
 523:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* No change in size, simply return */
 639              		.loc 1 523 6 is_stmt 0 view .LVU197
 640 006a D6D0     		beq	.L39
 529:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 641              		.loc 1 529 26 is_stmt 1 view .LVU198
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem2->used == 0) {
 642              		.loc 1 531 3 view .LVU199
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem2->used == 0) {
 643              		.loc 1 531 32 is_stmt 0 view .LVU200
 644 006c 244B     		ldr	r3, .L52
 645 006e 1A68     		ldr	r2, [r3]
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem2->used == 0) {
 646              		.loc 1 531 40 view .LVU201
 647 0070 35F8083C 		ldrh	r3, [r5, #-8]
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem2->used == 0) {
 648              		.loc 1 531 8 view .LVU202
 649 0074 D118     		adds	r1, r2, r3
 650              	.LVL40:
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* The next struct is unused, we can simply move it at little */
 651              		.loc 1 532 3 is_stmt 1 view .LVU203
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* The next struct is unused, we can simply move it at little */
 652              		.loc 1 532 11 is_stmt 0 view .LVU204
 653 0076 0879     		ldrb	r0, [r1, #4]	@ zero_extendqisi2
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* The next struct is unused, we can simply move it at little */
 654              		.loc 1 532 6 view .LVU205
 655 0078 10BB     		cbnz	r0, .L43
 656              	.LBB2:
 534:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 657              		.loc 1 534 5 is_stmt 1 view .LVU206
 536:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* create new struct mem which is moved directly after the shrinked mem */
 658              		.loc 1 536 5 view .LVU207
 536:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* create new struct mem which is moved directly after the shrinked mem */
 659              		.loc 1 536 10 is_stmt 0 view .LVU208
 660 007a D05A     		ldrh	r0, [r2, r3]
 661              	.LVL41:
 538:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem2) {
 662              		.loc 1 538 5 is_stmt 1 view .LVU209
 538:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem2) {
 663              		.loc 1 538 36 is_stmt 0 view .LVU210
 664 007c E319     		adds	r3, r4, r7
 665 007e 9BB2     		uxth	r3, r3
 538:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem2) {
 666              		.loc 1 538 10 view .LVU211
 667 0080 0833     		adds	r3, r3, #8
 668 0082 9BB2     		uxth	r3, r3
 669              	.LVL42:
 539:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = (struct mem *)(void *)&ram[ptr2];
 670              		.loc 1 539 5 is_stmt 1 view .LVU212
 539:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = (struct mem *)(void *)&ram[ptr2];
 671              		.loc 1 539 15 is_stmt 0 view .LVU213
ARM GAS  /tmp/cckiau1e.s 			page 25


 672 0084 234C     		ldr	r4, .L52+20
 673 0086 2468     		ldr	r4, [r4]
 539:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = (struct mem *)(void *)&ram[ptr2];
 674              		.loc 1 539 8 view .LVU214
 675 0088 8C42     		cmp	r4, r1
 676 008a 15D0     		beq	.L51
 677              	.LVL43:
 678              	.L44:
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 679              		.loc 1 542 5 is_stmt 1 view .LVU215
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 680              		.loc 1 542 10 is_stmt 0 view .LVU216
 681 008c D118     		adds	r1, r2, r3
 682              	.LVL44:
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* restore the next pointer */
 683              		.loc 1 543 5 is_stmt 1 view .LVU217
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* restore the next pointer */
 684              		.loc 1 543 16 is_stmt 0 view .LVU218
 685 008e 0024     		movs	r4, #0
 686 0090 0C71     		strb	r4, [r1, #4]
 545:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link it back to mem */
 687              		.loc 1 545 5 is_stmt 1 view .LVU219
 545:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link it back to mem */
 688              		.loc 1 545 16 is_stmt 0 view .LVU220
 689 0092 D052     		strh	r0, [r2, r3]	@ movhi
 547:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link mem to it */
 690              		.loc 1 547 5 is_stmt 1 view .LVU221
 547:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link mem to it */
 691              		.loc 1 547 16 is_stmt 0 view .LVU222
 692 0094 4F80     		strh	r7, [r1, #2]	@ movhi
 549:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* last thing to restore linked list: as we have moved mem2,
 693              		.loc 1 549 5 is_stmt 1 view .LVU223
 549:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* last thing to restore linked list: as we have moved mem2,
 694              		.loc 1 549 15 is_stmt 0 view .LVU224
 695 0096 25F8083C 		strh	r3, [r5, #-8]	@ movhi
 553:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 696              		.loc 1 553 5 is_stmt 1 view .LVU225
 553:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 697              		.loc 1 553 13 is_stmt 0 view .LVU226
 698 009a D15A     		ldrh	r1, [r2, r3]
 553:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 699              		.loc 1 553 8 view .LVU227
 700 009c B1F5C86F 		cmp	r1, #1600
 701 00a0 BBD0     		beq	.L39
 554:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 702              		.loc 1 554 7 is_stmt 1 view .LVU228
 554:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 703              		.loc 1 554 30 is_stmt 0 view .LVU229
 704 00a2 0A44     		add	r2, r2, r1
 554:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 705              		.loc 1 554 54 view .LVU230
 706 00a4 5380     		strh	r3, [r2, #2]	@ movhi
 707 00a6 B8E7     		b	.L39
 708              	.LVL45:
 709              	.L50:
 554:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 710              		.loc 1 554 54 view .LVU231
ARM GAS  /tmp/cckiau1e.s 			page 26


 711              	.LBE2:
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 712              		.loc 1 518 3 is_stmt 1 discriminator 1 view .LVU232
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 713              		.loc 1 518 3 discriminator 1 view .LVU233
 714 00a8 174B     		ldr	r3, .L52+8
 715 00aa 40F20622 		movw	r2, #518
 716 00ae 1A49     		ldr	r1, .L52+24
 717 00b0 1748     		ldr	r0, .L52+16
 718 00b2 FFF7FEFF 		bl	printf
 719              	.LVL46:
 720 00b6 D6E7     		b	.L42
 721              	.LVL47:
 722              	.L51:
 723              	.LBB3:
 540:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 724              		.loc 1 540 7 view .LVU234
 540:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 725              		.loc 1 540 37 is_stmt 0 view .LVU235
 726 00b8 D118     		adds	r1, r2, r3
 727              	.LVL48:
 540:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 728              		.loc 1 540 13 view .LVU236
 729 00ba 164C     		ldr	r4, .L52+20
 730 00bc 2160     		str	r1, [r4]
 731 00be E5E7     		b	.L44
 732              	.LVL49:
 733              	.L43:
 540:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 734              		.loc 1 540 13 view .LVU237
 735              	.LBE3:
 558:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 736              		.loc 1 558 10 is_stmt 1 view .LVU238
 558:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 737              		.loc 1 558 42 is_stmt 0 view .LVU239
 738 00c0 04F11403 		add	r3, r4, #20
 558:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 739              		.loc 1 558 13 view .LVU240
 740 00c4 B342     		cmp	r3, r6
 741 00c6 A8D8     		bhi	.L39
 566:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = (struct mem *)(void *)&ram[ptr2];
 742              		.loc 1 566 5 is_stmt 1 view .LVU241
 566:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = (struct mem *)(void *)&ram[ptr2];
 743              		.loc 1 566 36 is_stmt 0 view .LVU242
 744 00c8 E319     		adds	r3, r4, r7
 745 00ca 9BB2     		uxth	r3, r3
 566:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = (struct mem *)(void *)&ram[ptr2];
 746              		.loc 1 566 10 view .LVU243
 747 00cc 0833     		adds	r3, r3, #8
 748 00ce 9BB2     		uxth	r3, r3
 749              	.LVL50:
 567:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 750              		.loc 1 567 5 is_stmt 1 view .LVU244
 567:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 751              		.loc 1 567 10 is_stmt 0 view .LVU245
 752 00d0 D118     		adds	r1, r2, r3
 753              	.LVL51:
ARM GAS  /tmp/cckiau1e.s 			page 27


 568:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 754              		.loc 1 568 5 is_stmt 1 view .LVU246
 568:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 755              		.loc 1 568 14 is_stmt 0 view .LVU247
 756 00d2 1048     		ldr	r0, .L52+20
 757 00d4 0068     		ldr	r0, [r0]
 568:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 758              		.loc 1 568 8 view .LVU248
 759 00d6 8842     		cmp	r0, r1
 760 00d8 01D9     		bls	.L45
 569:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 761              		.loc 1 569 7 is_stmt 1 view .LVU249
 569:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 762              		.loc 1 569 13 is_stmt 0 view .LVU250
 763 00da 0E48     		ldr	r0, .L52+20
 764 00dc 0160     		str	r1, [r0]
 765              	.L45:
 571:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 766              		.loc 1 571 5 is_stmt 1 view .LVU251
 571:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 767              		.loc 1 571 16 is_stmt 0 view .LVU252
 768 00de 0020     		movs	r0, #0
 769 00e0 0871     		strb	r0, [r1, #4]
 572:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 770              		.loc 1 572 5 is_stmt 1 view .LVU253
 572:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 771              		.loc 1 572 21 is_stmt 0 view .LVU254
 772 00e2 35F8080C 		ldrh	r0, [r5, #-8]
 572:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 773              		.loc 1 572 16 view .LVU255
 774 00e6 D052     		strh	r0, [r2, r3]	@ movhi
 573:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 775              		.loc 1 573 5 is_stmt 1 view .LVU256
 573:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 776              		.loc 1 573 16 is_stmt 0 view .LVU257
 777 00e8 4F80     		strh	r7, [r1, #2]	@ movhi
 574:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 778              		.loc 1 574 5 is_stmt 1 view .LVU258
 574:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 779              		.loc 1 574 15 is_stmt 0 view .LVU259
 780 00ea 25F8083C 		strh	r3, [r5, #-8]	@ movhi
 575:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 781              		.loc 1 575 5 is_stmt 1 view .LVU260
 575:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 782              		.loc 1 575 13 is_stmt 0 view .LVU261
 783 00ee D15A     		ldrh	r1, [r2, r3]
 784              	.LVL52:
 575:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 785              		.loc 1 575 8 view .LVU262
 786 00f0 B1F5C86F 		cmp	r1, #1600
 787 00f4 91D0     		beq	.L39
 576:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 788              		.loc 1 576 7 is_stmt 1 view .LVU263
 576:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 789              		.loc 1 576 30 is_stmt 0 view .LVU264
 790 00f6 0A44     		add	r2, r2, r1
 791              	.LVL53:
ARM GAS  /tmp/cckiau1e.s 			page 28


 576:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 792              		.loc 1 576 54 view .LVU265
 793 00f8 5380     		strh	r3, [r2, #2]	@ movhi
 794 00fa 8EE7     		b	.L39
 795              	.LVL54:
 796              	.L48:
 521:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 797              		.loc 1 521 12 view .LVU266
 798 00fc 0025     		movs	r5, #0
 799              	.LVL55:
 521:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 800              		.loc 1 521 12 view .LVU267
 801 00fe 8CE7     		b	.L39
 802              	.L53:
 803              		.align	2
 804              	.L52:
 805 0100 00000000 		.word	.LANCHOR0
 806 0104 00000000 		.word	.LANCHOR1
 807 0108 00000000 		.word	.LC0
 808 010c 00000000 		.word	.LC9
 809 0110 44000000 		.word	.LC2
 810 0114 00000000 		.word	.LANCHOR2
 811 0118 18000000 		.word	.LC10
 812              		.cfi_endproc
 813              	.LFE93:
 815              		.section	.rodata.mem_malloc.str1.4,"aMS",%progbits,1
 816              		.align	2
 817              	.LC11:
 818 0000 6D656D5F 		.ascii	"mem_malloc: !lfree->used\000"
 818      6D616C6C 
 818      6F633A20 
 818      216C6672 
 818      65652D3E 
 819 0019 000000   		.align	2
 820              	.LC12:
 821 001c 6D656D5F 		.ascii	"mem_malloc: allocated memory not above ram_end.\000"
 821      6D616C6C 
 821      6F633A20 
 821      616C6C6F 
 821      63617465 
 822              		.align	2
 823              	.LC13:
 824 004c 6D656D5F 		.ascii	"mem_malloc: allocated memory properly aligned.\000"
 824      6D616C6C 
 824      6F633A20 
 824      616C6C6F 
 824      63617465 
 825 007b 00       		.align	2
 826              	.LC14:
 827 007c 6D656D5F 		.ascii	"mem_malloc: sanity check alignment\000"
 827      6D616C6C 
 827      6F633A20 
 827      73616E69 
 827      74792063 
 828              		.section	.text.mem_malloc,"ax",%progbits
 829              		.align	1
 830              		.global	mem_malloc
ARM GAS  /tmp/cckiau1e.s 			page 29


 831              		.syntax unified
 832              		.thumb
 833              		.thumb_func
 834              		.fpu softvfp
 836              	mem_malloc:
 837              	.LVL56:
 838              	.LFB94:
 593:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 594:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 595:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate a block of memory with a minimum of 'size' bytes.
 596:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 597:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size is the minimum size of the requested block in bytes.
 598:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory or NULL if no free memory was found.
 599:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 600:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Note that the returned value will always be aligned (as defined by MEM_ALIGNMENT).
 601:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 602:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 603:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 604:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 839              		.loc 1 604 1 is_stmt 1 view -0
 840              		.cfi_startproc
 841              		@ args = 0, pretend = 0, frame = 0
 842              		@ frame_needed = 0, uses_anonymous_args = 0
 605:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2;
 843              		.loc 1 605 3 view .LVU269
 606:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem, *mem2;
 844              		.loc 1 606 3 view .LVU270
 607:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 608:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t local_mem_free_count = 0;
 609:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 610:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_DECL_PROTECT();
 845              		.loc 1 610 32 view .LVU271
 611:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 612:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size == 0) {
 846              		.loc 1 612 3 view .LVU272
 847              		.loc 1 612 6 is_stmt 0 view .LVU273
 848 0000 0028     		cmp	r0, #0
 849 0002 00F08180 		beq	.L69
 604:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2;
 850              		.loc 1 604 1 view .LVU274
 851 0006 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 852              	.LCFI4:
 853              		.cfi_def_cfa_offset 24
 854              		.cfi_offset 3, -24
 855              		.cfi_offset 4, -20
 856              		.cfi_offset 5, -16
 857              		.cfi_offset 6, -12
 858              		.cfi_offset 7, -8
 859              		.cfi_offset 14, -4
 613:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 614:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 615:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 616:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Expand the size of the allocated memory region so that we can
 617:Middlewares/Third_Party/LwIP/src/core/mem.c ****      adjust for alignment. */
 618:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size = LWIP_MEM_ALIGN_SIZE(size);
 860              		.loc 1 618 3 is_stmt 1 view .LVU275
 861              		.loc 1 618 10 is_stmt 0 view .LVU276
ARM GAS  /tmp/cckiau1e.s 			page 30


 862 0008 C21C     		adds	r2, r0, #3
 863 000a 92B2     		uxth	r2, r2
 864              		.loc 1 618 8 view .LVU277
 865 000c 22F00302 		bic	r2, r2, #3
 866 0010 92B2     		uxth	r2, r2
 867              	.LVL57:
 619:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 620:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size < MIN_SIZE_ALIGNED) {
 868              		.loc 1 620 3 is_stmt 1 view .LVU278
 869              		.loc 1 620 6 is_stmt 0 view .LVU279
 870 0012 0B2A     		cmp	r2, #11
 871 0014 04D9     		bls	.L70
 621:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* every data block must be at least MIN_SIZE_ALIGNED long */
 622:Middlewares/Third_Party/LwIP/src/core/mem.c ****     size = MIN_SIZE_ALIGNED;
 623:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 624:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 625:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size > MEM_SIZE_ALIGNED) {
 872              		.loc 1 625 3 is_stmt 1 view .LVU280
 873              		.loc 1 625 6 is_stmt 0 view .LVU281
 874 0016 B2F5C86F 		cmp	r2, #1600
 875 001a 02D9     		bls	.L56
 626:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 876              		.loc 1 626 12 view .LVU282
 877 001c 0020     		movs	r0, #0
 878 001e 72E0     		b	.L54
 879              	.L70:
 622:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 880              		.loc 1 622 10 view .LVU283
 881 0020 0C22     		movs	r2, #12
 882              	.LVL58:
 883              	.L56:
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 628:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 629:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****   sys_mutex_lock(&mem_mutex);
 884              		.loc 1 630 29 is_stmt 1 view .LVU284
 631:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_PROTECT();
 885              		.loc 1 631 27 view .LVU285
 632:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 633:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* run as long as a mem_free disturbed mem_malloc or mem_trim */
 634:Middlewares/Third_Party/LwIP/src/core/mem.c ****   do {
 635:Middlewares/Third_Party/LwIP/src/core/mem.c ****     local_mem_free_count = 0;
 636:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 637:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Scan through the heap searching for a free block that is big enough,
 639:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * beginning with the lowest free block.
 640:Middlewares/Third_Party/LwIP/src/core/mem.c ****      */
 641:Middlewares/Third_Party/LwIP/src/core/mem.c ****     for (ptr = (mem_size_t)((u8_t *)lfree - ram); ptr < MEM_SIZE_ALIGNED - size;
 886              		.loc 1 641 5 view .LVU286
 887              		.loc 1 641 29 is_stmt 0 view .LVU287
 888 0022 3A4B     		ldr	r3, .L80
 889 0024 1F68     		ldr	r7, [r3]
 890              		.loc 1 641 43 view .LVU288
 891 0026 3A4B     		ldr	r3, .L80+4
 892 0028 1E68     		ldr	r6, [r3]
 893 002a BB1B     		subs	r3, r7, r6
 894              		.loc 1 641 14 view .LVU289
ARM GAS  /tmp/cckiau1e.s 			page 31


 895 002c 9BB2     		uxth	r3, r3
 896              	.LVL59:
 897              		.loc 1 641 5 view .LVU290
 898 002e 41E0     		b	.L57
 899              	.LVL60:
 900              	.L59:
 642:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ((struct mem *)(void *)&ram[ptr])->next) {
 643:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = (struct mem *)(void *)&ram[ptr];
 644:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 645:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem_free_count = 0;
 646:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_MEM_ALLOC_UNPROTECT();
 647:Middlewares/Third_Party/LwIP/src/core/mem.c ****       /* allow mem_free or mem_trim to run */
 648:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_MEM_ALLOC_PROTECT();
 649:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if (mem_free_count != 0) {
 650:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* If mem_free or mem_trim have run, we have to restart since they
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****            could have altered our current struct mem. */
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****         local_mem_free_count = 1;
 653:Middlewares/Third_Party/LwIP/src/core/mem.c ****         break;
 654:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 655:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 656:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if ((!mem->used) &&
 658:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 659:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****          * mem->next - (ptr + SIZEOF_STRUCT_MEM) gives us the 'user data size' of mem */
 661:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 662:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (mem->next - (ptr + SIZEOF_STRUCT_MEM) >= (size + SIZEOF_STRUCT_MEM + MIN_SIZE_ALIGNED))
 663:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 664:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * at least MIN_SIZE_ALIGNED of data also fits in the 'user data space' of 'mem')
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * -> split large block, create empty remainder,
 666:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * remainder must be large enough to contain MIN_SIZE_ALIGNED data: if
 667:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * mem->next - (ptr + (2*SIZEOF_STRUCT_MEM)) == size,
 668:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * struct mem would fit in but no data between mem2 and mem2->next
 669:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * @todo we could leave out MIN_SIZE_ALIGNED. We would create an empty
 670:Middlewares/Third_Party/LwIP/src/core/mem.c ****            *       region that couldn't hold data, but when mem->next gets freed,
 671:Middlewares/Third_Party/LwIP/src/core/mem.c ****            *       the 2 regions would be combined, resulting in more free memory
 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****            */
 673:Middlewares/Third_Party/LwIP/src/core/mem.c ****           ptr2 = ptr + SIZEOF_STRUCT_MEM + size;
 674:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 675:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2 = (struct mem *)(void *)&ram[ptr2];
 676:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 677:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 678:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 679:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 680:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->next = ptr2;
 681:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 682:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 683:Middlewares/Third_Party/LwIP/src/core/mem.c ****           if (mem2->next != MEM_SIZE_ALIGNED) {
 684:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 685:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 686:Middlewares/Third_Party/LwIP/src/core/mem.c ****           MEM_STATS_INC_USED(used, (size + SIZEOF_STRUCT_MEM));
 687:Middlewares/Third_Party/LwIP/src/core/mem.c ****         } else {
 688:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (a mem2 struct does no fit into the user data space of mem and mem->next will always
 689:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * be used at this point: if not we have 2 unused structs in a row, plug_holes should hav
 690:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * take care of this).
 691:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * -> near fit or exact fit: do not split, no mem2 creation
 692:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * also can't move mem->next directly behind mem, since mem->next
ARM GAS  /tmp/cckiau1e.s 			page 32


 693:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * will always be used at this point!
 694:Middlewares/Third_Party/LwIP/src/core/mem.c ****            */
 695:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 901              		.loc 1 695 11 is_stmt 1 view .LVU291
 902              		.loc 1 695 21 is_stmt 0 view .LVU292
 903 0030 0123     		movs	r3, #1
 904              	.LVL61:
 905              		.loc 1 695 21 view .LVU293
 906 0032 2371     		strb	r3, [r4, #4]
 907              	.L60:
 696:Middlewares/Third_Party/LwIP/src/core/mem.c ****           MEM_STATS_INC_USED(used, mem->next - (mem_size_t)((u8_t *)mem - ram));
 908              		.loc 1 696 80 is_stmt 1 view .LVU294
 697:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 698:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 699:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc_adjust_lfree:
 700:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 701:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (mem == lfree) {
 909              		.loc 1 701 9 view .LVU295
 910              		.loc 1 701 12 is_stmt 0 view .LVU296
 911 0034 A742     		cmp	r7, r4
 912 0036 0ED0     		beq	.L61
 913              	.L62:
 914              	.LBB4:
 702:Middlewares/Third_Party/LwIP/src/core/mem.c ****           struct mem *cur = lfree;
 703:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* Find next free block after mem and update lowest free pointer */
 704:Middlewares/Third_Party/LwIP/src/core/mem.c ****           while (cur->used && cur != ram_end) {
 705:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 706:Middlewares/Third_Party/LwIP/src/core/mem.c ****             mem_free_count = 0;
 707:Middlewares/Third_Party/LwIP/src/core/mem.c ****             LWIP_MEM_ALLOC_UNPROTECT();
 708:Middlewares/Third_Party/LwIP/src/core/mem.c ****             /* prevent high interrupt latency... */
 709:Middlewares/Third_Party/LwIP/src/core/mem.c ****             LWIP_MEM_ALLOC_PROTECT();
 710:Middlewares/Third_Party/LwIP/src/core/mem.c ****             if (mem_free_count != 0) {
 711:Middlewares/Third_Party/LwIP/src/core/mem.c ****               /* If mem_free or mem_trim have run, we have to restart since they
 712:Middlewares/Third_Party/LwIP/src/core/mem.c ****                  could have altered our current struct mem or lfree. */
 713:Middlewares/Third_Party/LwIP/src/core/mem.c ****               goto mem_malloc_adjust_lfree;
 714:Middlewares/Third_Party/LwIP/src/core/mem.c ****             }
 715:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 716:Middlewares/Third_Party/LwIP/src/core/mem.c ****             cur = (struct mem *)(void *)&ram[cur->next];
 717:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****           lfree = cur;
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 915              		.loc 1 719 11 is_stmt 1 discriminator 5 view .LVU297
 916              		.loc 1 719 11 discriminator 5 view .LVU298
 917              	.LBE4:
 720:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 721:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_MEM_ALLOC_UNPROTECT();
 918              		.loc 1 721 35 discriminator 5 view .LVU299
 722:Middlewares/Third_Party/LwIP/src/core/mem.c ****         sys_mutex_unlock(&mem_mutex);
 919              		.loc 1 722 37 discriminator 5 view .LVU300
 723:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: allocated memory not above ram_end.",
 920              		.loc 1 723 9 discriminator 5 view .LVU301
 921              		.loc 1 723 9 discriminator 5 view .LVU302
 922 0038 2544     		add	r5, r5, r4
 923 003a 0835     		adds	r5, r5, #8
 924 003c 354B     		ldr	r3, .L80+8
 925 003e 1B68     		ldr	r3, [r3]
 926 0040 9D42     		cmp	r5, r3
ARM GAS  /tmp/cckiau1e.s 			page 33


 927 0042 1ED8     		bhi	.L76
 928              	.L65:
 929              		.loc 1 723 9 discriminator 3 view .LVU303
 930              		.loc 1 723 9 discriminator 3 view .LVU304
 724:Middlewares/Third_Party/LwIP/src/core/mem.c ****          (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 725:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: allocated memory properly aligned.",
 931              		.loc 1 725 9 discriminator 3 view .LVU305
 932              		.loc 1 725 9 discriminator 3 view .LVU306
 933 0044 14F00305 		ands	r5, r4, #3
 934 0048 23D1     		bne	.L77
 935              	.L66:
 936              		.loc 1 725 9 discriminator 3 view .LVU307
 937              		.loc 1 725 9 discriminator 3 view .LVU308
 726:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: sanity check alignment",
 938              		.loc 1 727 9 discriminator 3 view .LVU309
 939              		.loc 1 727 9 discriminator 3 view .LVU310
 940 004a 55BB     		cbnz	r5, .L78
 941              	.L67:
 942              		.loc 1 727 9 discriminator 3 view .LVU311
 943              		.loc 1 727 9 discriminator 3 view .LVU312
 728:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (((mem_ptr_t)mem) & (MEM_ALIGNMENT-1)) == 0);
 729:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 730:Middlewares/Third_Party/LwIP/src/core/mem.c ****         return (u8_t *)mem + SIZEOF_STRUCT_MEM;
 944              		.loc 1 730 9 discriminator 3 view .LVU313
 945              		.loc 1 730 28 is_stmt 0 discriminator 3 view .LVU314
 946 004c 04F10800 		add	r0, r4, #8
 947 0050 59E0     		b	.L54
 948              	.LVL62:
 949              	.L64:
 950              	.LBB5:
 716:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 951              		.loc 1 716 13 is_stmt 1 view .LVU315
 716:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 952              		.loc 1 716 49 is_stmt 0 view .LVU316
 953 0052 3F88     		ldrh	r7, [r7]
 954              	.LVL63:
 716:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 955              		.loc 1 716 17 view .LVU317
 956 0054 3744     		add	r7, r7, r6
 957              	.LVL64:
 958              	.L61:
 704:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 959              		.loc 1 704 17 is_stmt 1 view .LVU318
 704:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 960              		.loc 1 704 21 is_stmt 0 view .LVU319
 961 0056 3B79     		ldrb	r3, [r7, #4]	@ zero_extendqisi2
 704:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 962              		.loc 1 704 17 view .LVU320
 963 0058 1BB1     		cbz	r3, .L63
 704:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 964              		.loc 1 704 35 discriminator 1 view .LVU321
 965 005a 2E4A     		ldr	r2, .L80+8
 966 005c 1268     		ldr	r2, [r2]
 704:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 967              		.loc 1 704 28 discriminator 1 view .LVU322
 968 005e BA42     		cmp	r2, r7
ARM GAS  /tmp/cckiau1e.s 			page 34


 969 0060 F7D1     		bne	.L64
 970              	.L63:
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 971              		.loc 1 718 11 is_stmt 1 view .LVU323
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 972              		.loc 1 718 17 is_stmt 0 view .LVU324
 973 0062 2A4A     		ldr	r2, .L80
 974 0064 1760     		str	r7, [r2]
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 975              		.loc 1 719 11 is_stmt 1 view .LVU325
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 976              		.loc 1 719 11 view .LVU326
 977 0066 2B4A     		ldr	r2, .L80+8
 978 0068 1268     		ldr	r2, [r2]
 979 006a BA42     		cmp	r2, r7
 980 006c E4D0     		beq	.L62
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 981              		.loc 1 719 11 is_stmt 0 discriminator 1 view .LVU327
 982 006e 002B     		cmp	r3, #0
 983 0070 E2D0     		beq	.L62
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 984              		.loc 1 719 11 is_stmt 1 discriminator 3 view .LVU328
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 985              		.loc 1 719 11 discriminator 3 view .LVU329
 986 0072 294B     		ldr	r3, .L80+12
 987 0074 40F2CF22 		movw	r2, #719
 988 0078 2849     		ldr	r1, .L80+16
 989 007a 2948     		ldr	r0, .L80+20
 990 007c FFF7FEFF 		bl	printf
 991              	.LVL65:
 992 0080 DAE7     		b	.L62
 993              	.LVL66:
 994              	.L76:
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 995              		.loc 1 719 11 is_stmt 0 discriminator 3 view .LVU330
 996              	.LBE5:
 723:Middlewares/Third_Party/LwIP/src/core/mem.c ****          (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 997              		.loc 1 723 9 is_stmt 1 discriminator 1 view .LVU331
 723:Middlewares/Third_Party/LwIP/src/core/mem.c ****          (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 998              		.loc 1 723 9 discriminator 1 view .LVU332
 999 0082 254B     		ldr	r3, .L80+12
 1000 0084 40F2D322 		movw	r2, #723
 1001 0088 2649     		ldr	r1, .L80+24
 1002 008a 2548     		ldr	r0, .L80+20
 1003 008c FFF7FEFF 		bl	printf
 1004              	.LVL67:
 1005 0090 D8E7     		b	.L65
 1006              	.L77:
 725:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 1007              		.loc 1 725 9 discriminator 1 view .LVU333
 725:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 1008              		.loc 1 725 9 discriminator 1 view .LVU334
 1009 0092 214B     		ldr	r3, .L80+12
 1010 0094 40F2D522 		movw	r2, #725
 1011 0098 2349     		ldr	r1, .L80+28
 1012 009a 2148     		ldr	r0, .L80+20
 1013 009c FFF7FEFF 		bl	printf
ARM GAS  /tmp/cckiau1e.s 			page 35


 1014              	.LVL68:
 1015 00a0 D3E7     		b	.L66
 1016              	.L78:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (((mem_ptr_t)mem) & (MEM_ALIGNMENT-1)) == 0);
 1017              		.loc 1 727 9 discriminator 1 view .LVU335
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (((mem_ptr_t)mem) & (MEM_ALIGNMENT-1)) == 0);
 1018              		.loc 1 727 9 discriminator 1 view .LVU336
 1019 00a2 1D4B     		ldr	r3, .L80+12
 1020 00a4 40F2D722 		movw	r2, #727
 1021 00a8 2049     		ldr	r1, .L80+32
 1022 00aa 1D48     		ldr	r0, .L80+20
 1023 00ac FFF7FEFF 		bl	printf
 1024              	.LVL69:
 1025 00b0 CCE7     		b	.L67
 1026              	.LVL70:
 1027              	.L58:
 642:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = (struct mem *)(void *)&ram[ptr];
 1028              		.loc 1 642 10 view .LVU337
 642:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = (struct mem *)(void *)&ram[ptr];
 1029              		.loc 1 642 14 is_stmt 0 view .LVU338
 1030 00b2 2388     		ldrh	r3, [r4]
 1031              	.LVL71:
 1032              	.L57:
 641:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ((struct mem *)(void *)&ram[ptr])->next) {
 1033              		.loc 1 641 51 is_stmt 1 discriminator 1 view .LVU339
 641:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ((struct mem *)(void *)&ram[ptr])->next) {
 1034              		.loc 1 641 55 is_stmt 0 discriminator 1 view .LVU340
 1035 00b4 9C46     		mov	ip, r3
 641:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ((struct mem *)(void *)&ram[ptr])->next) {
 1036              		.loc 1 641 74 discriminator 1 view .LVU341
 1037 00b6 1546     		mov	r5, r2
 1038 00b8 C2F5C860 		rsb	r0, r2, #1600
 641:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ((struct mem *)(void *)&ram[ptr])->next) {
 1039              		.loc 1 641 5 discriminator 1 view .LVU342
 1040 00bc 8342     		cmp	r3, r0
 1041 00be 21D2     		bcs	.L79
 643:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1042              		.loc 1 643 7 is_stmt 1 view .LVU343
 643:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1043              		.loc 1 643 11 is_stmt 0 view .LVU344
 1044 00c0 F418     		adds	r4, r6, r3
 1045              	.LVL72:
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1046              		.loc 1 657 7 is_stmt 1 view .LVU345
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1047              		.loc 1 657 16 is_stmt 0 view .LVU346
 1048 00c2 2079     		ldrb	r0, [r4, #4]	@ zero_extendqisi2
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1049              		.loc 1 657 10 view .LVU347
 1050 00c4 0028     		cmp	r0, #0
 1051 00c6 F4D1     		bne	.L58
 658:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 1052              		.loc 1 658 15 discriminator 1 view .LVU348
 1053 00c8 F15A     		ldrh	r1, [r6, r3]
 658:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 1054              		.loc 1 658 22 discriminator 1 view .LVU349
 1055 00ca A1EB0C01 		sub	r1, r1, ip
ARM GAS  /tmp/cckiau1e.s 			page 36


 1056 00ce 0839     		subs	r1, r1, #8
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1057              		.loc 1 657 24 discriminator 1 view .LVU350
 1058 00d0 A942     		cmp	r1, r5
 1059 00d2 EED3     		bcc	.L58
 662:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1060              		.loc 1 662 9 is_stmt 1 view .LVU351
 662:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1061              		.loc 1 662 80 is_stmt 0 view .LVU352
 1062 00d4 05F11400 		add	r0, r5, #20
 662:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1063              		.loc 1 662 12 view .LVU353
 1064 00d8 8142     		cmp	r1, r0
 1065 00da A9D3     		bcc	.L59
 673:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1066              		.loc 1 673 11 is_stmt 1 view .LVU354
 673:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1067              		.loc 1 673 42 is_stmt 0 view .LVU355
 1068 00dc 1A44     		add	r2, r2, r3
 1069 00de 92B2     		uxth	r2, r2
 673:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1070              		.loc 1 673 16 view .LVU356
 1071 00e0 0832     		adds	r2, r2, #8
 1072 00e2 92B2     		uxth	r2, r2
 1073              	.LVL73:
 675:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 1074              		.loc 1 675 11 is_stmt 1 view .LVU357
 675:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 1075              		.loc 1 675 16 is_stmt 0 view .LVU358
 1076 00e4 B118     		adds	r1, r6, r2
 1077              	.LVL74:
 676:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 1078              		.loc 1 676 11 is_stmt 1 view .LVU359
 676:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 1079              		.loc 1 676 22 is_stmt 0 view .LVU360
 1080 00e6 0020     		movs	r0, #0
 1081 00e8 0871     		strb	r0, [r1, #4]
 677:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1082              		.loc 1 677 11 is_stmt 1 view .LVU361
 677:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1083              		.loc 1 677 27 is_stmt 0 view .LVU362
 1084 00ea 2088     		ldrh	r0, [r4]
 677:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1085              		.loc 1 677 22 view .LVU363
 1086 00ec B052     		strh	r0, [r6, r2]	@ movhi
 678:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 1087              		.loc 1 678 11 is_stmt 1 view .LVU364
 678:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 1088              		.loc 1 678 22 is_stmt 0 view .LVU365
 1089 00ee 4B80     		strh	r3, [r1, #2]	@ movhi
 680:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1090              		.loc 1 680 11 is_stmt 1 view .LVU366
 680:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1091              		.loc 1 680 21 is_stmt 0 view .LVU367
 1092 00f0 2280     		strh	r2, [r4]	@ movhi
 681:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 1093              		.loc 1 681 11 is_stmt 1 view .LVU368
ARM GAS  /tmp/cckiau1e.s 			page 37


 681:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 1094              		.loc 1 681 21 is_stmt 0 view .LVU369
 1095 00f2 0123     		movs	r3, #1
 1096              	.LVL75:
 681:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 1097              		.loc 1 681 21 view .LVU370
 1098 00f4 2371     		strb	r3, [r4, #4]
 683:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 1099              		.loc 1 683 11 is_stmt 1 view .LVU371
 683:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 1100              		.loc 1 683 19 is_stmt 0 view .LVU372
 1101 00f6 B35A     		ldrh	r3, [r6, r2]
 683:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ((struct mem *)(void *)&ram[mem2->next])->prev = ptr2;
 1102              		.loc 1 683 14 view .LVU373
 1103 00f8 B3F5C86F 		cmp	r3, #1600
 1104 00fc 9AD0     		beq	.L60
 684:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1105              		.loc 1 684 13 is_stmt 1 view .LVU374
 684:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1106              		.loc 1 684 36 is_stmt 0 view .LVU375
 1107 00fe 3344     		add	r3, r3, r6
 684:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1108              		.loc 1 684 60 view .LVU376
 1109 0100 5A80     		strh	r2, [r3, #2]	@ movhi
 1110 0102 97E7     		b	.L60
 1111              	.LVL76:
 1112              	.L79:
 731:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 732:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 733:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 734:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if we got interrupted by a mem_free, try again */
 735:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } while (local_mem_free_count != 0);
 736:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 737:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("mem_malloc: could not allocate %"S16_F" bytes\n
 738:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_INC(err);
 739:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_UNPROTECT();
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   sys_mutex_unlock(&mem_mutex);
 741:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return NULL;
 1113              		.loc 1 741 10 view .LVU377
 1114 0104 0020     		movs	r0, #0
 1115              	.LVL77:
 1116              	.L54:
 742:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1117              		.loc 1 742 1 view .LVU378
 1118 0106 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1119              	.LVL78:
 1120              	.L69:
 1121              	.LCFI5:
 1122              		.cfi_def_cfa_offset 0
 1123              		.cfi_restore 3
 1124              		.cfi_restore 4
 1125              		.cfi_restore 5
 1126              		.cfi_restore 6
 1127              		.cfi_restore 7
 1128              		.cfi_restore 14
 613:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1129              		.loc 1 613 12 view .LVU379
ARM GAS  /tmp/cckiau1e.s 			page 38


 1130 0108 0020     		movs	r0, #0
 1131              	.LVL79:
 1132              		.loc 1 742 1 view .LVU380
 1133 010a 7047     		bx	lr
 1134              	.L81:
 1135              		.align	2
 1136              	.L80:
 1137 010c 00000000 		.word	.LANCHOR2
 1138 0110 00000000 		.word	.LANCHOR0
 1139 0114 00000000 		.word	.LANCHOR1
 1140 0118 00000000 		.word	.LC0
 1141 011c 00000000 		.word	.LC11
 1142 0120 44000000 		.word	.LC2
 1143 0124 1C000000 		.word	.LC12
 1144 0128 4C000000 		.word	.LC13
 1145 012c 7C000000 		.word	.LC14
 1146              		.cfi_endproc
 1147              	.LFE94:
 1149              		.section	.text.mem_calloc,"ax",%progbits
 1150              		.align	1
 1151              		.global	mem_calloc
 1152              		.syntax unified
 1153              		.thumb
 1154              		.thumb_func
 1155              		.fpu softvfp
 1157              	mem_calloc:
 1158              	.LVL80:
 1159              	.LFB95:
 743:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 744:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_USE_POOLS */
 745:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 746:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC && (!LWIP_STATS || !MEM_STATS)
 747:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 748:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_calloc(mem_size_t count, mem_size_t size)
 749:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 750:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return mem_clib_calloc(count, size);
 751:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 752:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 753:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_LIBC_MALLOC && (!LWIP_STATS || !MEM_STATS) */
 754:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 755:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Contiguously allocates enough space for count objects that are size bytes
 756:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * of memory each and returns a pointer to the allocated memory.
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 758:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * The allocated memory is filled with bytes of value zero.
 759:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 760:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param count number of objects to allocate
 761:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size size of the objects to allocate
 762:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory / NULL pointer if there is an error
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 764:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 765:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_calloc(mem_size_t count, mem_size_t size)
 766:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 1160              		.loc 1 766 1 is_stmt 1 view -0
 1161              		.cfi_startproc
 1162              		@ args = 0, pretend = 0, frame = 0
 1163              		@ frame_needed = 0, uses_anonymous_args = 0
 1164              		.loc 1 766 1 is_stmt 0 view .LVU382
ARM GAS  /tmp/cckiau1e.s 			page 39


 1165 0000 70B5     		push	{r4, r5, r6, lr}
 1166              	.LCFI6:
 1167              		.cfi_def_cfa_offset 16
 1168              		.cfi_offset 4, -16
 1169              		.cfi_offset 5, -12
 1170              		.cfi_offset 6, -8
 1171              		.cfi_offset 14, -4
 1172 0002 0446     		mov	r4, r0
 1173 0004 0D46     		mov	r5, r1
 767:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p;
 1174              		.loc 1 767 3 is_stmt 1 view .LVU383
 768:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 769:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* allocate 'count' objects of size 'size' */
 770:Middlewares/Third_Party/LwIP/src/core/mem.c ****   p = mem_malloc(count * size);
 1175              		.loc 1 770 3 view .LVU384
 1176              		.loc 1 770 7 is_stmt 0 view .LVU385
 1177 0006 01FB00F0 		mul	r0, r1, r0
 1178              	.LVL81:
 1179              		.loc 1 770 7 view .LVU386
 1180 000a 80B2     		uxth	r0, r0
 1181 000c FFF7FEFF 		bl	mem_malloc
 1182              	.LVL82:
 771:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (p) {
 1183              		.loc 1 771 3 is_stmt 1 view .LVU387
 1184              		.loc 1 771 6 is_stmt 0 view .LVU388
 1185 0010 0646     		mov	r6, r0
 1186 0012 20B1     		cbz	r0, .L82
 772:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* zero the memory */
 773:Middlewares/Third_Party/LwIP/src/core/mem.c ****     memset(p, 0, (size_t)count * (size_t)size);
 1187              		.loc 1 773 5 is_stmt 1 view .LVU389
 1188 0014 05FB04F2 		mul	r2, r5, r4
 1189 0018 0021     		movs	r1, #0
 1190 001a FFF7FEFF 		bl	memset
 1191              	.LVL83:
 774:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 775:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return p;
 1192              		.loc 1 775 3 view .LVU390
 1193              	.L82:
 776:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1194              		.loc 1 776 1 is_stmt 0 view .LVU391
 1195 001e 3046     		mov	r0, r6
 1196 0020 70BD     		pop	{r4, r5, r6, pc}
 1197              		.loc 1 776 1 view .LVU392
 1198              		.cfi_endproc
 1199              	.LFE95:
 1201              		.comm	ram_heap,1619,4
 1202              		.section	.bss.lfree,"aw",%nobits
 1203              		.align	2
 1204              		.set	.LANCHOR2,. + 0
 1207              	lfree:
 1208 0000 00000000 		.space	4
 1209              		.section	.bss.ram,"aw",%nobits
 1210              		.align	2
 1211              		.set	.LANCHOR0,. + 0
 1214              	ram:
 1215 0000 00000000 		.space	4
 1216              		.section	.bss.ram_end,"aw",%nobits
ARM GAS  /tmp/cckiau1e.s 			page 40


 1217              		.align	2
 1218              		.set	.LANCHOR1,. + 0
 1221              	ram_end:
 1222 0000 00000000 		.space	4
 1223              		.text
 1224              	.Letext0:
 1225              		.file 2 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/machine/_default_types.h"
 1226              		.file 3 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/_stdint.h"
 1227              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 1228              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 1229              		.file 6 "/opt/gcc-arm-none-eabi-9-2020-q2-update/lib/gcc/arm-none-eabi/9.3.1/include/stddef.h"
 1230              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1231              		.file 8 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/_types.h"
 1232              		.file 9 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/reent.h"
 1233              		.file 10 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/lock.h"
 1234              		.file 11 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/stdlib.h"
 1235              		.file 12 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/time.h"
 1236              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1237              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
 1238              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1239              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 1240              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1241              		.file 18 "<built-in>"
 1242              		.file 19 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/stdio.h"
ARM GAS  /tmp/cckiau1e.s 			page 41


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mem.c
     /tmp/cckiau1e.s:16     .rodata.plug_holes.str1.4:0000000000000000 $d
     /tmp/cckiau1e.s:35     .text.plug_holes:0000000000000000 $t
     /tmp/cckiau1e.s:42     .text.plug_holes:0000000000000000 plug_holes
     /tmp/cckiau1e.s:245    .text.plug_holes:00000000000000bc $d
     /tmp/cckiau1e.s:258    .text.mem_init:0000000000000000 $t
     /tmp/cckiau1e.s:265    .text.mem_init:0000000000000000 mem_init
     /tmp/cckiau1e.s:326    .text.mem_init:000000000000002c $d
                            *COM*:0000000000000653 ram_heap
     /tmp/cckiau1e.s:334    .rodata.mem_free.str1.4:0000000000000000 $d
     /tmp/cckiau1e.s:344    .text.mem_free:0000000000000000 $t
     /tmp/cckiau1e.s:351    .text.mem_free:0000000000000000 mem_free
     /tmp/cckiau1e.s:491    .text.mem_free:0000000000000084 $d
     /tmp/cckiau1e.s:503    .rodata.mem_trim.str1.4:0000000000000000 $d
     /tmp/cckiau1e.s:510    .text.mem_trim:0000000000000000 $t
     /tmp/cckiau1e.s:517    .text.mem_trim:0000000000000000 mem_trim
     /tmp/cckiau1e.s:805    .text.mem_trim:0000000000000100 $d
     /tmp/cckiau1e.s:816    .rodata.mem_malloc.str1.4:0000000000000000 $d
     /tmp/cckiau1e.s:829    .text.mem_malloc:0000000000000000 $t
     /tmp/cckiau1e.s:836    .text.mem_malloc:0000000000000000 mem_malloc
     /tmp/cckiau1e.s:1137   .text.mem_malloc:000000000000010c $d
     /tmp/cckiau1e.s:1150   .text.mem_calloc:0000000000000000 $t
     /tmp/cckiau1e.s:1157   .text.mem_calloc:0000000000000000 mem_calloc
     /tmp/cckiau1e.s:1203   .bss.lfree:0000000000000000 $d
     /tmp/cckiau1e.s:1207   .bss.lfree:0000000000000000 lfree
     /tmp/cckiau1e.s:1210   .bss.ram:0000000000000000 $d
     /tmp/cckiau1e.s:1214   .bss.ram:0000000000000000 ram
     /tmp/cckiau1e.s:1217   .bss.ram_end:0000000000000000 $d
     /tmp/cckiau1e.s:1221   .bss.ram_end:0000000000000000 ram_end

UNDEFINED SYMBOLS
printf
memset
